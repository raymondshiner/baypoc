window.sf_widget_configs=window.sf_widget_configs||{},window.sf_widget_configs.utils={extend:,copy:,fullCopy:,shouldStandDownSalesTrackingForHbcGroup:function(){var siteRefer=sf_widget.utils.getQueryParam("site_refer");return!!siteRefer&&[/^.+\+TRP?\+.+$/,/^TRP?\+.+$/,/^.+\+TRP?$/,/salesfloor/i,/^EML/,/^barneys$/].reduce(,!0)}},window.sf_widget_configs=window.sf_widget_configs||{},sf_widget_configs.hbc={sidebar:{version:3,horizontalPosition:"left",variant:!1,tagline:!0,location:!1,mode:"logo",media:{desktop:{position:{bottom:20},width:230,height:140},mobile:{position:{bottom:0},width:275,height:64}},minimize:{desktop:!0,mobile:!0},findNearbyStore:!0},iframeTitle:{footer:{en_US:"Connect with your associate",fr_CA:"Connectez-vous avec votre associé"},sidebar:{en_US:"Connect with an associate nearby",fr_CA:"Connectez-vous avec un associé à proximité"}},footerHeight:70,footerExternalElementAdjustments:{".back-to-top":{bottom:"70px","z-index":"1000000000"},"#bt_invite_box":{display:"none"}},sidebarExternalElementAdjustments:{"#bt_invite_box":{display:"none"}},additional_tracking:[{name:"sf_storeid",data:"storeid",processData:},{name:"sf_associd",data:"employeeid"},{name:"sf_siterefer",data:"siterefer"}],pageSpacingBottom:"110px",affiliateCookie:"ls_intntl_siteid",affiliateCookieMobile:"lsID",widgetBottom:"0",widgetWidth:300,sidebarAnimation:"no",acquisitionCookieDuration:2592e6,saleCookieDuration:6048e5,sidebarMinimizeSmallScreen:!0,sidebarMobileScrollHide:!1,screenInnerWidthBreakPoint:1400,sidebarMinimizeDuration:2592e5,widgetHeight:240,sidebarMobileHeight:33,sidebarMobileBottom:0,sidebarMobileLeft:0,sidebarClosedHeight:92,sidebarTower:!0,widgetTowerWidth:180,widgetTowerDisableLowerThen:1024,notificationWidth:385,notificationHeight:0,widgets:["sidebar3","findstore","footer","eventstracker"],removeSessionOnHomepages:[],footerSpacingElements:"#footer",pageSpacingType:"padding",menuContainer:".hdrNavSearch .mainNav",retailer:"hbc",cookieRepRefresh:3e5,salesfloor_site:"//widgets.stores.thebay.com",salesfloor_api:"//api.stores.thebay.com",salesfloor_storefront:"//stores.thebay.com",logoReplaceSelector:"#header-container > .inner > .logo > a",logoReplaceSelectorMobile:"body#enshorts",keyPrefix:"",env:"prd",mode:"rep",crossDomain:!0,searchUrl:{en_US:"https://www.thebay.com/search?search-button=&lang=en_CA&q=",fr_CA:"https://www.labaie.com/search?search-button=&lang=fr_CA&q="},servicesAvailable:[{type:"appointment",modal:"iframe",maxHeight:1250},{type:"finder",modal:"iframe",maxHeight:1080},{type:"question",modal:"iframe",maxHeight:960},{type:"inscription",modal:"iframe",maxHeight:650},{type:"profile",modal:"embedded",maxHeight:465},{type:"chat",modal:"popup",maxHeight:800},{type:"feedback",modal:"embedded",maxHeight:400}],i18n:{isEnabled:!0,defaultLocale:"en_US",sync:{method:["url"],url:{en_US:"thebay.com",fr_CA:"labaie.com"}}},retailerPage:{liveChatActionElementId:"sf-contextual-widget-live-chat",landingPageActionElementId:"sf-contextual-widget-landing-page",liveChatActionElementClass:"sf-contextual-widget-live-chat-class",landingPageActionElementClass:"sf-contextual-widget-landing-page-class"}},sf_widget_configs.hbc.rules=sf_widget_configs.hbc.rules||{},sf_widget_configs.hbc.rules.shouldRenderWidgets=function(){return sf_widget_configs.utils.shouldStandDownSalesTrackingForHbcGroup()&&(sf_widget.utils.deleteTrackingCookies(),sf_widget.utils.setDeleteTrackingCookies()),!0},function(){var isNewSite=window.sf_retailer_data&&"sfcc"===window.sf_retailer_data.siteVersion;sf_widget_configs.hbc.rules=sf_widget_configs.hbc.rules||{},sf_widget_configs.hbc.rules.footer=[],isNewSite?sf_widget_configs.hbc.rules.footer.push({type:"func",func:}):sf_widget_configs.hbc.rules.footer.push({type:"regex",regex:/AjaxOrderItemDisplayView|OrderShippingBillingView|OrderShippingBillingSummaryView|OrderShippingBillingConfirmationView|UserRegistrationForm|AjaxLogonForm|AccountAddressFormView|AccountMyProfileFormView|NotificationPreferencesFormView|AccountMyOrdersFormView|AccountOrderDetailView|OrderShippingBillingView|ProductDisplay/,testOn:,enableOn:!1},{type:"regex",regex:/ContactUsEmail|\/account\/login|shipping-and-returns|\/checkout\/SaksBag\.jsp|TermsConditions|\/Gift-cards|PrivacyLegalInfo|pageId=FAQ|http:\/\/locations.thebay.com|BayStoreServices/,testOn:,enableOn:!1},{type:"regex",regex:/checkout/,testOn:,enableOn:!1})}(),function(){var isNewSite=window.sf_retailer_data&&"sfcc"===window.sf_retailer_data.siteVersion,isFrench=-1<window.location.href.indexOf("labaie.com");sf_widget_configs.hbc.rules=sf_widget_configs.hbc.rules||{},sf_widget_configs.hbc.rules.sidebar=[],isNewSite&&!isFrench?sf_widget_configs.hbc.rules.sidebar.push({type:"func",func:function(){return!1}}):sf_widget_configs.hbc.rules.sidebar.push({type:"regex",regex:/AjaxOrderItemDisplayView|OrderShippingBillingView|OrderShippingBillingSummaryView|OrderShippingBillingConfirmationView|UserRegistrationForm|AjaxLogonForm|AccountAddressFormView|AccountMyProfileFormView|NotificationPreferencesFormView|AccountMyOrdersFormView|AccountOrderDetailView|OrderShippingBillingView|ProductDisplay/,testOn:,enableOn:!1},{type:"regex",regex:/ContactUsEmail|\/account\/login|shipping-and-returns|\/checkout\/SaksBag\.jsp|TermsConditions|\/Gift-cards|PrivacyLegalInfo|pageId=FAQ|http:\/\/locations.thebay.com|BayStoreServices/,testOn:,enableOn:!1},{type:"regex",regex:/checkout/,testOn:,enableOn:!1})}(),sf_widget_configs.hbc.tracking=[],window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.chatnotification={load:,askNotificationPermissions:,show:,showDesktopNotification:,overrideSignout:,playSoundNotification:,flashTitle:,cancelFlashTitle:,setIframeHeight:,displayConfirmPrompt:,displayFeedback:,confirmChatEnable:,confirmChatDisable:,denyChatEnable:,denyChatEnableOffHours:,unableToJoinQueue:,postMessageToDropdown:,postMessageToToast:,confirmEnabling:,enableRep:,disableRep:,clearToast:,append:,content:{notification:}},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.cookie={load:function(){window.sf_widget_is_loaded||this.append(),window.sf_widget_is_loaded=!0},afterRender:,append:function(options){var setting=options||{};sf_widget.utils.appendWidget({container:"body",content:this.content.widget(setting),css:sf_widget.css.widget(),iframeId:"sf-widget-cookie"})},setImgAffiliate:,setAdditionalTrackingCookies:function(content){var data=content.data;sf_widget.options.additional_tracking&&sf_widget.options.additional_tracking.forEach(function(tracker){if(data[tracker.data]){var value=tracker.processData?tracker.processData(data[tracker.data]):data[tracker.data];sf_widget.utils.dataStorage.set({name:tracker.name,value:value,retailerCookie:!0,overrideCD:!0,noPrefix:!0,expires:sf_widget.options.saleCookieDuration})}})},remove:,fullReload:,forceDisplay:,sendCookie:function(data){sf_widget.utils.dataStorage.init(document.cookie+"; "+data.cookies)},content:{widget:function(options){return'<div id="sf-widget-cookie-wrapper" style="left:0;bottom:0;position:fixed;z-index:99999999;display:block;vertical-align:middle;zoom:1;"><iframe id="sf-widget-cookie" src="'+sf_widget.options.salesfloor_site+"/cookies/manager"+sf_widget.utils.getCacheBusterParam("?",{sf_locale:sf_widget.utils.getLocale()})+'" width="1" height="1" role="presentation" style="border:none;overflow: hidden;display:block;" scrolling="no" seamless allowTransparency="true" frameBorder="0">\x3c!--iframecontent--\x3e</iframe></div>'}}},window.__is_new_widget||sf_widget.widgets.cookie.load(),window.sf_widget.events=window.sf_widget.events||{},sf_widget.events.ecommerce={addTransaction:,addItem:},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.eventstracker={load:function(){window.sf_widget_configs&&-1<sf_widget_configs[sf_widget.options.retailer].widgets.indexOf("eventstracker")&&this.getEventsOnpage()},getEventsOnpage:function(){window.sf_widget_events&&sf_widget_events.events&&sf_widget_events.events.forEach()},pushEvent:},window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.findstore={open:,close:,setIframeHeight:,toggle:,animate:,changeSidebarDisplay:,confirmRep:,redirect:,destroyCurrentOverlay:,toggleWindowsScroll:,isDevice:,content:{modal:,getIframeDimension:}},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.footer={load:function(){sf_widget.rules.shouldEnable("footer",sf_widget.options.retailer)&&this.getStore()},setPageMargin:,afterRender:,replaceHistory:,addSfRepUrl:,needsSfRepUrl:,addSfStoreUrl:,needsSfStoreUrl:,needsFragmentInUrl:,isPageException:,getStore:,changeLocation:,replaceLogoLink:,append:,content:{footer:}},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.localstorage={load:,afterRender:,append:,setImgAffiliate:,setAdditionalTrackingCookies:,remove:,fullReload:,forceDisplay:,initData:,content:{widget:}},window.__is_new_widget||sf_widget.widgets.localstorage.load(),window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.menu={load:,setIframeHeight:,getStore:,append:,changeLocation:,content:{menu:}},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.sidebar={load:function(){if(sf_widget.rules.shouldEnable("sidebar",sf_widget.options.retailer)&&!this.checkDisabled()){this.currentLocale=sf_widget.utils.getLocale()||"",sf_widget.utils.dataStorage.get("sf_wdt_sidebar_store")&&(sf_widget.sf_store_widget=sf_widget.utils.dataStorage.get("sf_wdt_sidebar_store")),this.checkWindowWidth(),this.getAnimateInView();var previousLocale=sf_widget.utils.dataStorage.get("sf_wdt_sidebar_store_locale");!sf_widget.sf_store_widget||sf_widget.options.sidebar.findNearbyStore||this.currentLocale&&previousLocale!==this.currentLocale?this.showFromNearestStore(this.currentLocale):(this.setStore(sf_widget.sf_store_widget,!0,this.currentLocale),this.append())}},isTower:,afterRender:,sendAddSourcePostMessage:,isWidgetLoaded:,scrollData:,manageDisplayOnScroll:,manageMinimizeMobileOnScroll:,isScrollAtTheBottom:,getCurrentWidgetDimension:,toggleDisplayOnScroll:,calculateBottomPosition:,sendPostMessageToTemplate:,throttleEvent:,checkDisabled:,disable:,checkWindowWidth:,getAnimateInView:,setIframeHeight:,setIframeWidth:,append:,showFromNearestStore:,remove:,setWidgetState:,getMobileData:,setCurrentLocale:,setCurrentStore:,setStore:,setNearestStores:,chooseStore:,getStoreId:,getStoreLocale:,fullReload:,changeLocation:,forceDisplay:,content:{widget:}},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.sidebar2=Object.create(sf_widget.widgets.sidebar),sf_widget.widgets.sidebar2.reloadSize=,sf_widget.widgets.sidebar2.getSidebarWidth=,sf_widget.widgets.sidebar2.content={widget:},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,function(){var DIMENSIONS_CONST_VARIANT_COLLAPSED_WIDTH=70,DIMENSIONS_CONST_VARIANT_MINIMIZE_COLLAPSED_WIDTH=90;window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.sidebar3=Object.create(sf_widget.widgets.sidebar),sf_widget.widgets.sidebar3.getInitialDimension=,sf_widget.widgets.sidebar3.afterRender=,sf_widget.widgets.sidebar3.manageAnimateOnScroll=,sf_widget.widgets.sidebar3.calculateScrollProgress=,sf_widget.widgets.sidebar3.setSessionBrowsing=,sf_widget.widgets.sidebar3.enableCollapseState=,sf_widget.widgets.sidebar3.disableCollapseState=,sf_widget.widgets.sidebar3.sendCollapseStateToTemplate=,sf_widget.widgets.sidebar3.collapseSidebarOnLoading=,sf_widget.widgets.sidebar3.enableMinimizeState=,sf_widget.widgets.sidebar3.disableMinimizeState=,sf_widget.widgets.sidebar3.sendMinimizeStateToTemplate=,sf_widget.widgets.sidebar3.minimizeSidebarOnLoading=,sf_widget.widgets.sidebar3.enableLandingChangeStore=,sf_widget.widgets.sidebar3.disableLandingChangeStore=,sf_widget.widgets.sidebar3.sendLandingChangeStoreStateToTemplate=,sf_widget.widgets.sidebar3.animateDisplayOnScroll=,sf_widget.widgets.sidebar3.setIframeDimension=,sf_widget.widgets.sidebar3.content={widget:},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1}(),window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.tracking={load:,testPage:,getConfigs:,getStoreParam:,pushEvent:,getData:,trackIndividualElements:,filterObject:,trackMap:},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&false?define(factory):global.ES6Promise=factory()}(this,function(){"use strict";var isArray=Array.isArray?Array.isArray:,len=0,vertxNext=void 0,customSchedulerFn=void 0,asap=;var browserWindow="undefined"!=typeof window?window:void 0,browserGlobal=browserWindow||{},BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver,isNode="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),isWorker="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;var queue=new Array(1e3);var channel,iterations,observer,node,scheduleFlush=void 0;scheduleFlush=isNode?:BrowserMutationObserver?(iterations=0,observer=new BrowserMutationObserver(flush),node=document.createTextNode(""),observer.observe(node,{characterData:!0}),):isWorker?((channel=new MessageChannel).port1.onmessage=flush,):void 0===browserWindow&&"function"==typeof require?():useSetTimeout();var PROMISE_ID=Math.random().toString(36).substring(2);var PENDING=void 0,FULFILLED=1,REJECTED=2,TRY_CATCH_ERROR={error:null};var id=0;var Enumerator=function(){return Enumerator.prototype._enumerate=,Enumerator.prototype._eachEntry=,Enumerator.prototype._settledAt=,Enumerator.prototype._willSettleAt=,Enumerator}();var Promise$2=function(){return Promise.prototype.catch=,Promise.prototype.finally=,Promise}();return Promise$2.prototype.then=then,Promise$2.all=,Promise$2.race=,Promise$2.resolve=resolve$1,Promise$2.reject=,Promise$2._setScheduler=,Promise$2._setAsap=,Promise$2._asap=asap,Promise$2.polyfill=function(){var local=void 0;if("undefined"!=typeof global)local=global;else if("undefined"!=typeof self)local=self;else try{local=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var P=local.Promise;if(P){var promiseToString=null;try{promiseToString=Object.prototype.toString.call(P.resolve())}catch(e){}if("[object Promise]"===promiseToString&&!P.cast)return}local.Promise=Promise$2},(Promise$2.Promise=Promise$2).polyfill(),Promise$2}),function(root,factory){root.lscache=function(){var cachedStorage,cachedJSON,CACHE_PREFIX="lscache-",CACHE_SUFFIX="-cacheexpiration",EXPIRY_UNITS=6e4,MAX_DATE=Math.floor(864e13/EXPIRY_UNITS),cacheBucket="",warnings=!1;function supportsStorage(){var key="__lscachetest__";if(void 0!==cachedStorage)return cachedStorage;try{setItem(key,"__lscachetest__"),removeItem(key),cachedStorage=!0}catch(e){cachedStorage=!!isOutOfSpace(e)}return cachedStorage}function expirationKey(key){return key+CACHE_SUFFIX}function getItem(key){return localStorage.getItem(CACHE_PREFIX+cacheBucket+key)}function setItem(key,value){localStorage.removeItem(CACHE_PREFIX+cacheBucket+key),localStorage.setItem(CACHE_PREFIX+cacheBucket+key,value)}function removeItem(key){localStorage.removeItem(CACHE_PREFIX+cacheBucket+key)}function flushExpiredItem(key){var exprKey=expirationKey(key),expr=getItem(exprKey);if(expr){var expirationTime=parseInt(expr,10);if(currentTime()>=expirationTime)return removeItem(key),removeItem(exprKey),!0}}return{set:,get:function(key){if(!supportsStorage())return null;if(flushExpiredItem(key))return null;var value=getItem(key);if(!value||!supportsJSON())return value;try{return JSON.parse(value)}catch(e){return value}},remove:,supported:,flush:,flushExpired:,setBucket:,resetBucket:,enableWarnings:}}()}(this),function(){window.sf_widget=window.sf_widget||{};var retailerHideSidebar,hideSidebarWithMenu="",footerBreakpoint=0,footerMobileHeight=0,footerPosition={},footerDesktopPositionBottom=0,footerMobilePositionBottom=0;for(var retailer in window.sf_widget_configs)window.sf_widget_configs[retailer]&&(footerBreakpoint=window.sf_widget_configs[retailer].footerBreakpoint||0,footerMobileHeight=window.sf_widget_configs[retailer].footerMobileHeight||0,footerPosition=window.sf_widget_configs[retailer].footer||0);footerPosition&&(footerDesktopPositionBottom=footerPosition.media.desktop.position.bottom,footerMobilePositionBottom=footerPosition.media.mobile.position.bottom),retailerHideSidebar="body.sf-widget-hide-all #sf-widget-companion-wrapper,           body.sf-widget-hide-all #sf-footer-companion-wrapper {            display: none!important;          }          ",void 0!==window.sf_widget_configs.bloom&&(hideSidebarWithMenu="body.nav-visible #sf-widget-companion-wrapper,           body.nav-visible #sf-footer-companion-wrapper,           body.modal-visible #sf-widget-companion-wrapper,           body.modal-visible #sf-footer-companion-wrapper {            display: none!important;          }          "),void 0!==window.sf_widget_configs.bbbaby&&(hideSidebarWithMenu="body.navMenuOpened #sf-widget-companion-wrapper,       body.navMenuOpened #sf-footer-companion-wrapper {        display: none!important;      }      "),void 0!==window.sf_widget_configs.holt&&(hideSidebarWithMenu="body.no-scroll #sf-widget-companion-wrapper {        display: none!important;      }      "),void 0!==window.sf_widget_configs.ann&&(hideSidebarWithMenu="html.menu-slide #sf-widget-companion-wrapper,         html.menu-slide #sf-footer-companion-wrapper {          display: none!important;        }        "),void 0===window.sf_widget_configs.hbc&&void 0===window.sf_widget_configs.labaie||(hideSidebarWithMenu="body.sk_mobShowMenu #sf-widget-companion-wrapper,         body.sk_mobShowMenu #sf-footer-companion-wrapper,         body.mobile-menu-open #sf-widget-companion-wrapper,         body.modal-open #sf-widget-companion-wrapper {          display: none!important;        }    "),sf_widget.css={widget:function(){return"<style>          #sf-widget-companion-wrapper{            position:absolute;            bottom:0px; left:0px;            z-index:999999;          }          "+hideSidebarWithMenu+retailerHideSidebar+"</style>"},footer:,notification:,findstore:}}(),window.sf_widget=sf_widget||{},sf_widget.cb={addEventListener:function(){return window.addEventListener?"addEventListener":"attachEvent"},message:function(){return window.addEventListener?"message":"onmessage"},click:,objectKeys:function(obj){return Object.keys?Object.keys(obj):sf_widget.utils.objectKeys(obj)}},window.sf_widget=sf_widget||{},sf_widget.rules={configs:{base:{},retailers:{}},shouldEnable:function(widget,retailer){var rules=this.getRules(widget,retailer);return this.testWidget(rules)},getRules:function(widget,retailer){var baseRules=sf_widget.rules.configs.base[widget]?sf_widget.rules.configs.base[widget]:[],retailerRules=sf_widget_configs[retailer].rules&&sf_widget_configs[retailer].rules[widget]?sf_widget_configs[retailer].rules[widget]:[];return baseRules.concat(retailerRules)},testWidget:function(rules){var test;if(rules.length)for(var i=0;i<rules.length;i++){var rule=rules[i];switch(rule.type){case"func":test=this.testFunction(rule);break;case"regex":test=this.testRegex(rule)}if(!test)return!1}return!0},testFunction:function(rule){return rule.func(rule)},testRegex:function(rule){return rule.enableOn===rule.regex.test(rule.testOn(rule))}},sf_widget.rules.configs.base.footer=[{type:"func",func:function(){return!!(sf_widget.utils.dataStorage.get("sf_wdt_footer_store")||/sf_store/.test(window.location.search)||sf_widget.utils.dataStorage.get("sf_wdt_footer_rep")||/sf_rep/.test(window.location.search)||sf_widget.sf_rep||sf_widget.sf_store)}},{type:"regex",regex:/preview=true/,testOn:,enableOn:!1},{type:"func",func:},{type:"regex",regex:/virtual-appointment/,testOn:,enableOn:!1}],sf_widget.rules.configs.base.sidebar=[{type:"func",func:function(){return!(sf_widget.utils.dataStorage.get("sf_wdt_footer_store")||/sf_store/.test(window.location.search)||sf_widget.utils.dataStorage.get("sf_wdt_footer_rep")||/sf_rep/.test(window.location.search))}},{type:"regex",regex:/preview=true/,testOn:function(){return window.location.href},enableOn:!1},{type:"func",func:function(){return!window.sf_retailer_data||!window.sf_retailer_data.load_widgets||!1!==window.sf_retailer_data.load_widgets.sidebar}},{type:"regex",regex:/virtual-appointment/,testOn:function(){return window.location.href},enableOn:!1}],window.sf_widget=sf_widget||{},sf_widget.utils={isRetailerHomepage:function(){var isHomepage=!1,self=this;return sf_widget.options.removeSessionOnHomepages&&sf_widget.options.removeSessionOnHomepages.forEach(),isHomepage},getStrippedUrl:,getLocation:function(href){var l=document.createElement("a");return l.href=href,l},deepExtend:function(destination,source){for(var property in source)source[property]&&source[property].constructor&&source[property].constructor===Object?(destination[property]=destination[property]||{},arguments.callee(destination[property],source[property])):destination[property]=source[property];return destination},getQueryParam:function(qname,inHash){for(var query_string={},vars=("hash"===inHash?window.location.hash.substring(2):window.location.search.substring(1)).split("&"),i=0;i<vars.length;i++){var pair=vars[i].split("=");if(void 0===query_string[pair[0]])query_string[pair[0]]=pair[1];else if("string"==typeof query_string[pair[0]]){var arr=[query_string[pair[0]],pair[1]];query_string[pair[0]]=arr}else query_string[pair[0]].push(pair[1])}return query_string[qname]},translateString:,getTrackingEmployeeId:function(){var tracking=sf_widget.utils.dataStorage.get("sf_wdt_tracking"),trackingRep=sf_widget.utils.dataStorage.get("sf_wdt_tracking_rep"),trackingRepQS=sf_widget.utils.getQueryParam("sf_rep",sf_widget.options.writeHistoryType);if(!trackingRepQS&&("true"!==tracking&&!0!==tracking||!trackingRep))return!1;var repData=null,repStatus=sf_widget.utils.dataStorage.get("sf_wdt_rep_status");if(repStatus&&(repData=JSON.parse(decodeURIComponent(repStatus))),trackingRepQS&&trackingRepQS!==trackingRep&&(trackingRep=trackingRepQS),repData&&repData.tracking_rep&&trackingRep===repData.tracking_rep)return repData.employee_id;sf_widget.utils.JSONP(sf_widget.options.salesfloor_api+"/public/reps/"+trackingRep,{errorCallback:},)},getTrackingEmployeeObjectAsPromise:,isWithinGeo:,getTrackingEmployeeIdAsPromise:,addEvents:function($ele,method){$ele&&($ele.addEventListener?$ele.addEventListener("click",method,!1):$ele.attachEvent("onclick",method))},iframeHandshake:function(iframeID,widget){var iframe=document.getElementById(iframeID),sendHandshake=function(){iframe.style.visibility="visible",iframe.contentWindow.postMessage("sf_handshake","*"),sf_widget.widgets[widget]&&sf_widget.widgets[widget].afterRender&&sf_widget.widgets[widget].afterRender(),sf_widget.utils.iframeReady(iframeID)};iframe&&(iframe.attachEvent?iframe.attachEvent("onload",sendHandshake):iframe.onload=sendHandshake)},setWidgetRepresentant:function(){sf_widget.options.id=sf_widget.sf_rep||sf_widget.sf_store||sf_widget.utils.dataStorage.get("sf_wdt_footer_rep")||sf_widget.utils.dataStorage.get("sf_wdt_footer_store"),sf_widget.options.linkUrl=sf_widget.sf_rep||sf_widget.utils.dataStorage.get("sf_wdt_footer_rep")?"reps":"stores"},trim:,toQueryString:,getIp:function(){return sf_widget.utils.getQueryParam("sf_ip")},getLocale:function(){if(sf_widget.options.i18n&&sf_widget.options.i18n.isEnabled)return sf_widget.utils.locale.retrieveByMethod(sf_widget.options.i18n.sync.method)},setIp:function(){sf_widget.utils.getIp()&&(sf_widget.utils.dataStorage.set({name:"sf_wdt_footer_rep",expires:"session"}),sf_widget.utils.dataStorage.set({name:"sf_wdt_footer_store",expires:"session"}))},resetTracking:function(){"store"===sf_widget.options.mode?sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking_rep"}):sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking_store"})},setRep:function(rep){this.retailerTracking("rep")},setStore:function(){this.retailerTracking("store")},retailerTracking:function(type){var sf_type="sf_"+type,sf_force="force_"+type,cookieTracking="sf_wdt_tracking_"+type,cookieUI="sf_wdt_footer_"+type,lscacheName=sf_widget.options.keyPrefix+cookieTracking,sf_repName=lscache.get(lscacheName);sf_widget[sf_type]=sf_widget.options[sf_force]||sf_widget.utils.getQueryParam(sf_type,sf_widget.options.writeHistoryType);var sf_source_origin=sf_widget.utils.getQueryParam("sf_source_origin",sf_widget.options.writeHistoryType);if(sf_source_origin&&(sf_widget[sf_source_origin]=sf_source_origin,sf_widget.utils.dataStorage.set({name:"sf_wdt_footer_origin_source",value:sf_source_origin,expires:"session"}),"lookbook"===sf_source_origin)){var sf_source_origin_fragment_id=sf_widget.utils.getQueryParam("sf_source_fragment_id",sf_widget.options.writeHistoryType);sf_source_origin_fragment_id?(sf_widget[sf_source_origin_fragment_id]=sf_source_origin_fragment_id,sf_widget.utils.dataStorage.set({name:"sf_wdt_footer_origin_fragment_id",value:sf_source_origin_fragment_id,expires:"session"})):sf_widget.utils.dataStorage.set({name:"sf_wdt_footer_origin_fragment_id",expires:"session"},"remove");var sf_source_origin_locale=sf_widget.utils.getQueryParam("sf_source_locale",sf_widget.options.writeHistoryType);sf_source_origin_locale?(sf_widget[sf_source_origin_locale]=sf_source_origin_locale,sf_widget.utils.dataStorage.set({name:"sf_wdt_footer_origin_locale",value:sf_source_origin_locale,expires:"session"})):sf_widget.utils.dataStorage.set({name:"sf_wdt_footer_origin_locale",expires:"session"},"remove")}(sf_repName||sf_widget[sf_type]&&""!==sf_widget[sf_type]&&("store"===type||"rep"===type&&sf_widget.repStatus))&&(sf_widget.utils.getQueryParam(sf_type,sf_widget.options.writeHistoryType)&&sf_widget.utils.dataStorage.setAcquisition("shoppingLink"),sf_widget.utils.dataStorage.set({name:cookieUI,value:sf_widget[sf_type]||sf_repName,expires:"session"}),sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking",value:"true",expires:sf_widget.options.saleCookieDuration}),sf_widget.utils.dataStorage.set({name:cookieTracking,value:sf_widget[sf_type]||sf_repName,expires:sf_widget.options.saleCookieDuration}))},deleteTrackingCookies:,setComexCookie:,setDeleteTrackingCookies:,deleteTrackingCookiesIfNeeded:function(){"true"===sf_widget.utils.dataStorage.get("sf_wdt_delete_tracking")&&(sf_widget.utils.deleteTrackingCookies(),sf_widget.utils.dataStorage.set({name:"sf_wdt_delete_tracking",expires:"session"}))},pushImg:function(widgetUrl,styleClass){oImg=document.createElement("img"),oImg.setAttribute("src",widgetUrl),oImg.setAttribute("class",styleClass||"sf_trk_img"),oImg.setAttribute("alt","Cookie"),oImg.setAttribute("height","1px"),oImg.setAttribute("width","1px"),oImg.style.display="none",oImg.style.visibility="hidden",document.body.appendChild(oImg)},adjustExternalElements:,detectIE:,getCurrentOS:,detectBrowser:,testFooterQueryString:,detectMobile:,detectMobileTablet:,hasClass:,updateQueryStringParameter:,getCleanPathForRules:},sf_widget.utils.domReady=function(win,fn){var done=!1,top=!0,doc=win.document,root=doc.documentElement,modern=doc.addEventListener,add=modern?"addEventListener":"attachEvent",rem=modern?"removeEventListener":"detachEvent",pre=modern?"":"on",init=;if(poll=,"complete"===doc.readyState)sf_widget.utils.widgetsReady(win,fn,"lazy");else{if(!modern&&root.doScroll){try{top=!win.frameElement}catch(e){}top&&poll()}doc[add](pre+"DOMContentLoaded",init,!1),doc[add](pre+"readystatechange",init,!1),win[add](pre+"load",init,!1)}},sf_widget.utils.widgetsReady=function(win,fn,type){var widgetInterval=setInterval(function(){sf_widget.loadedWidgets>=sf_widget.options.widgets.length&&(clearInterval(widgetInterval),sf_widget.utils.crossDomainReady(win,fn,type))},50)},sf_widget.utils.crossDomainReady=function(win,fn,type){if(sf_widget.options.crossDomain){window.__is_new_widget&&sf_widget.widgets.cookie.load();var initInterval=setInterval(function(){sf_widget.storeInitialized&&(clearInterval(initInterval),fn.call(win,type))},50)}else fn.call(win,type)},sf_widget.utils.readyIframes={},sf_widget.utils.iframeReadyCallbacks={},sf_widget.utils.onIframeReady=,sf_widget.utils.iframeReady=function(iframeID){var i,cbs=sf_widget.utils.iframeReadyCallbacks;if(sf_widget.utils.readyIframes[iframeID]&&(sf_widget.utils.readyIframes[iframeID]=!0),cbs[iframeID]){for(i=0;i<cbs[iframeID].length;i++)cbs[iframeID][i]();delete cbs[iframeID]}},sf_widget.utils.addNode=function(node,container){var htmlContent=document.createElement("div"),$container=document.querySelectorAll(container);htmlContent.innerHTML=node;for(var containerNode=container&&$container.length?$container[0]:void 0,i=0;i<htmlContent.childNodes.length;i++)containerNode&&containerNode.appendChild(htmlContent.childNodes[i])},sf_widget.utils.hideWebsiteNodes=,sf_widget.utils.showWebsiteNodes=,sf_widget.utils.showHideNodes=,sf_widget.utils.appendWidget=function(options){if("undefined"!==options.sf_store_widget){var $container=document.querySelectorAll(options.container);options.emptyContent&&$container.length&&($container[0].innerHTML=""),sf_widget.utils.addNode(options.content,options.container),options.css&&sf_widget.utils.addNode(options.css,options.container),options.iframeId&&sf_widget.utils.iframeHandshake(options.iframeId,options.widget),$container.length&&($container[0].style.visibility="visible"),options.widgeturl&&options.iframeId&&document.getElementById(options.iframeId)&&(document.getElementById(options.iframeId).src=options.widgeturl)}else this.showWebsiteNodes(sf_widget.options.removeOnShow)},sf_widget.utils.getCacheBusterParam=function(delimiter,params){var p=params||{},additionalParams=Object.keys(p).map(function(key){return key+"="+p[key]});return"localstorage"===sf_widget.options.data_storage_method&&window.__cacheBustKey?delimiter+"cacheBustKey="+window.__cacheBustKey+"&"+additionalParams.join("&"):delimiter+additionalParams.join("&")};var servicesMap={liveChat:"chat",landingPage:"landing"},selectorType={ID:"Id",CLASS:"Class"};function getProperServiceAction(service){var serviceAction;return Object.keys(servicesMap).forEach(function(action){service!==action&&service!==servicesMap[action]||(serviceAction=action)}),serviceAction}function getRetailerPageActionElements(action,type){var element=(window.sf_widget_configs[sf_widget.options.retailer].retailerPage||{})[action+"ActionElement"+type];return element?type===selectorType.ID?document.getElementById(element):document.getElementsByClassName(element):null}function handleRetailerPageOpenServiceActionId(service){var el=getRetailerPageActionElements(getProperServiceAction(service),selectorType.ID);el&&sf_widget.utils.addEvents(el,)}function handleRetailerPageOpenServiceActionClass(service){var elms=getRetailerPageActionElements(getProperServiceAction(service),selectorType.CLASS);if(elms)for(var openService=,i=0;i<elms.length;i++){var el=elms[i];sf_widget.utils.addEvents(el,openService)}}function handleRetailerPageOpenServiceAction(service){return function(){handleRetailerPageOpenServiceActionId(service),handleRetailerPageOpenServiceActionClass(service)}}sf_widget.utils.registerContextualService=function(service){if(service)return handleRetailerPageOpenServiceAction(service)();Object.keys(servicesMap).forEach(function(action){handleRetailerPageOpenServiceAction(action)()})},sf_widget.utils.openContextualService=,window,Object.keys||(sf_widget.utils.objectKeys=()),function(window,undefined){var JSONP=;JSONP.errorCallback=,sf_widget.utils.JSONP=JSONP}(window),sf_widget.utils.dataStorage={set:function(data){data.nameNoPrefix="object"==typeof data?this.getSuffixSession(data,data.name):data,data.name=this.getFinalKey(data),data.value||(data.value="",data.expires="remove"),sf_widget.dataStorage&&(sf_widget.dataStorage[data.nameNoPrefix]=data.value),sf_widget.utils[sf_widget.options.data_storage_method].set(data)},get:function(key){var value;return sf_widget.dataStorage&&(value=sf_widget.dataStorage[key+"_session"]||sf_widget.dataStorage[key]),value||(value=sf_widget.utils[sf_widget.options.data_storage_method].get(this.getFinalKey(key))),value},getPreload:,loadDefaultSessions:function(){var referrer=document.referrer,hostname=new RegExp(window.location.hostname),storefront=new RegExp(sf_widget.utils.getLocation(sf_widget.options.salesfloor_storefront).hostname),changePage=this.get("sf_change_page"),isRetailerHomepage=sf_widget.utils.isRetailerHomepage(),isException=this.isFooterSuppressionException();(this.testSessionExpiration()||isException||!hostname.test(referrer)&&!storefront.test(referrer)&&(isRetailerHomepage||"true"!==changePage))&&(this.cleanSessionData(),sf_widget.sf_store=void 0,sf_widget.sf_rep=void 0),this.refreshSessionExpiry(),window.addEventListener&&(window.addEventListener("pagehide",this.addPageTransitionCookie.bind(this),!1),window.addEventListener("beforeunload",this.addPageTransitionCookie.bind(this),!1))},testSessionExpiration:function(){var current=Date.now(),last=sf_widget.utils.dataStorage.get("sf_wdt_session_expiration")||current;return this.getSessionExpiry()<current-last},cleanSessionData:,refreshSessionExpiry:function(){return sf_widget.utils.dataStorage.set({name:"sf_wdt_session_expiration",value:Date.now(),expires:"session"})},isFooterSuppressionException:function(){return"bloom"===sf_widget.options.retailer&&-1<document.referrer.indexOf("www.bloomingdales.com")},getSessionExpiry:function(){return sf_widget.options.session_expiry||18e5},addPageTransitionCookie:,init:function(data){sf_widget.utils[sf_widget.options.data_storage_method].init(data)},getExpiry:,getFinalKey:function(data){var resultName,regPrefix=new RegExp(sf_widget.options.keyPrefix,"g");return resultName="object"==typeof data?data.name:data,data.noPrefix?resultName:(regPrefix.test(resultName)||(resultName=sf_widget.options.keyPrefix+resultName),resultName=this.getSuffixSession(data,resultName))},getSuffixSession:function(data,resultName){return"object"!=typeof data||"session"!==data.expires||/_session$/.test(resultName)||(resultName+="_session"),resultName},getInitialData:,queue:[],processQueue:function(){sf_widget.utils[sf_widget.options.data_storage_method].processQueue()},setAcquisition:},sf_widget.utils.locale={retrieveByMethod:function(method){var matchedLocale,locale=sf_widget.options.i18n.defaultLocale;if(Array.isArray(method))for(var i=0;i<method.length;i++)matchedLocale||(matchedLocale=this.findMethod(method[i]));else matchedLocale=this.findMethod(method);return matchedLocale&&(locale=matchedLocale),locale},findMethod:function(method){var locale=null;switch(method){case"url":locale=this.localeByUrl(window.location.href);break;case"cookie":locale=this.localeByCookie();break;case"jsGlobal":locale=this.localeByJsGlobal()}return locale},localeByUrl:function(currentLocation){var urlsByLocale=sf_widget.options.i18n.sync.url,matchedLocale=null;for(var locale in urlsByLocale)urlsByLocale.hasOwnProperty(locale)&&-1!==currentLocation.indexOf(urlsByLocale[locale])&&(matchedLocale=locale);return matchedLocale},localeByJsGlobal:,localeByCookie:},sf_widget.utils.cookie={set:function(cookie){cookie.retailerCookie||"localstorage"===sf_widget.options.data_storage_method?cookie.domain="":cookie.domain=" domain=."+this.getDomainFromHostname(location.hostname)+";";var d=new Date;switch(cookie.expires){case"session":cookie.expires="",cookie.expiresCrossDomain="session";break;case"remove":cookie.expires="expires=Thu, 01 Jan 1970 00:00:01 GMT;",cookie.expiresCrossDomain="remove";break;default:var time=cookie.expires||12096e5;d.setTime(d.getTime()+time),cookie.expires="expires="+d.toUTCString(),cookie.expiresCrossDomain=d.getTime()/1e3}sf_widget.options.crossDomain&&!cookie.overrideCD&&this.addCookiedImage(cookie);var cookieSecureFlag=(cookie.hasOwnProperty("secure")?cookie.secure:sf_widget.options.secureOnlyCookies)?"secure=true":"";"cookie"===sf_widget.options.data_storage_method&&(document.cookie=[cookie.name,[cookie.value,cookie.expires,"path=/",cookie.domain,cookieSecureFlag,"samesite=none"].join(";")].join("="))},get:function(key){return null},getPreload:,cookieArray:[],addCookiedImage:function(data,type){var self=this,cookie={expires:data.expiresCrossDomain},brands=sf_widget.options.brands?JSON.parse(sf_widget.options.brands):void 0;cookie[data.name]=data.value,this.cookieArray.push(cookie),this.debounceCookies&&window.clearTimeout(this.debounceCookies),this.debounceCookies=window.setTimeout(function(){self.sendCookie(brands),self.cookieArray=[]},75)},sendCookie:function(brands){var splitArray=function(array,size){var data=encodeURIComponent(JSON.stringify(array));if(data.length<size||1===array.length)return[array];for(var nbSplit=Math.ceil(data.length/size),sizeSplit=Math.ceil(array.length/nbSplit),splittedArray=[];0<array.length;)splittedArray.push(array.splice(0,sizeSplit));var finalArray=[];return splittedArray.forEach(),finalArray},arrayToSend=(this.cookieArray||[]).slice();splitArray(arrayToSend,1800).forEach(function(array){var data=encodeURIComponent(JSON.stringify(array)),widgetUrlDefault=sf_widget.options.salesfloor_site+"/cookies/render?data="+data+"&cachebuster="+(new Date).getTime();if(sf_widget.utils.pushImg(widgetUrlDefault),brands&&brands.length)for(var i=0;i<brands.length;i++){var widgetUrlBrand=brands[i].salesfloor_site+"/cookies/render?data="+data+"&cachebuster="+(new Date).getTime();sf_widget.utils.pushImg(widgetUrlBrand)}})},init:function(cookies){sf_widget.dataStorage={},cookies=cookies.split(";");for(var i=0;i<cookies.length;i++){var cookie=cookies[i],cookieName=(cookie=(cookie=cookie.replace(/^\s+|\s+$/gm,"")).split("="))[0].replace(sf_widget.options.keyPrefix,"");sf_widget.dataStorage[cookieName]=cookie[1]}sf_widget.storeInitialized=!0},getExpiry:,getInitialData:,processQueue:function(){},getDomainFromHostname:function(hostname){var split=(hostname=hostname.replace(/(www.)?/i,"")).split("."),splitLength=split.length;return 2<splitLength?2!==split[splitLength-2].length&&3!==split[splitLength-2].length||2!==split[splitLength-1].length&&3!==split[splitLength-1].length?split.slice(-2).join("."):split.slice(-3).join("."):hostname}},sf_widget.utils.localstorage={set:,sendData:,get:,getPreload:,getFromCache:,init:,getExpiry:,getInitialData:,processQueue:},sf_widget.utils.eventQueue={fingerprintKey:"sf_wdt_fingerprint",eventSourceKey:"event_source",asyncEventQueueKey:"sf_wdt_events_to_queue",eventQueueExpiry:6e4,processAsyncQueue:!0,checkFingerprint:function(pushAfter,actionEvent,actionId){var fingerprint=sf_widget.widgets.base.setCookieUniqueId();fingerprint&&!0===pushAfter&&this.finalPost(actionEvent,actionId,fingerprint)},checkFingerprintByPostMessage:,push:,pushByPostMessage:,finalPost:,processAsyncEvents:function(){if(this.processAsyncQueue){var events=sf_widget.utils.dataStorage.get(this.asyncEventQueueKey);if(events){this.unsetDataStorageValue(),events=events.split(",");for(var i=0;i<events.length;i++){var eventSplit=events[i].split("___");this.checkFingerprint(!0,eventSplit[0],eventSplit[1]||null)}}}},setAsyncEvents:,logFingerprintError:,unsetDataStorageValue:,pushViewEvent:,pushViewEventByPostMessage:},window.sf_widget=window.sf_widget||{},window.sf_widget.preload=window.sf_widget.preload||{},sf_widget.preload.menu={init:},function(){var methods={init:function(){var self=this,configs=sf_widget.cb.objectKeys(sf_widget_configs),lastConfig=configs[configs.length-1],retailerConfigs=sf_widget_configs[lastConfig];sf_widget.options=sf_widget.utils.deepExtend(defaults,retailerConfigs||{}),retailerConfigs.applyRetailerCustomJs&&"function"==typeof retailerConfigs.applyRetailerCustomJs&&retailerConfigs.applyRetailerCustomJs(),this.triggerSidebarTrackingEvent(),window[sf_widget.cb.addEventListener()](sf_widget.cb.message(),function(event){methods.handleWidgetsResponse(event)},!1),sf_widget.options.crossDomain||sf_widget.utils.dataStorage.init(sf_widget.utils.dataStorage.getInitialData()),this.loadWidgets({preload:!0}),window.__is_new_widget?sf_widget.loadedWidgets=sf_widget.options.widgets.length:(sf_widget.loadedWidgets=0,this.insertWidgetHead()),sf_widget.options.crossDomain&&(window.__is_new_widget||this.insertScript("cookie")),this.queryRepStatus(),sf_widget.utils.domReady(window,function(){var intervalId=setInterval(function(){window.sf_widget&&sf_widget.queriedRepStatus&&(clearInterval(intervalId),self.onDomReady(lastConfig))},50)})},triggerSidebarTrackingEvent:function(){document.addEventListener("sidebar_mobile_displayed",),document.addEventListener("sidebar_desktop_displayed",),document.addEventListener("sidebar_desktop_clicked",),document.addEventListener("sidebar_mobile_clicked",),document.addEventListener("sidebar_mobile_minimize",),document.addEventListener("sidebar_mobile_tagline_minimize",),document.addEventListener("sidebar_desktop_minimize",),document.addEventListener("sidebar_mobile_maximize",),document.addEventListener("sidebar_desktop_maximize",)},queryRepStatus:function(){var repDetected=sf_widget.utils.getQueryParam("sf_rep",sf_widget.options.writeHistoryType);repDetected?sf_widget.utils.JSONP(sf_widget.options.salesfloor_api+"/public/reps/"+repDetected,{errorCallback:},):(sf_widget.queriedRepStatus=1,sf_widget.repStatus=1)},onDomReady:function(lastConfig){sf_widget.ready=!0,sf_widget.utils.dataStorage.processQueue(),methods.shouldEnableWidget()&&(sf_widget.utils.dataStorage.loadDefaultSessions(),this.setCookieUniqueId(),methods.shouldInitWidget(lastConfig)&&(this.initWidgets(),sf_widget.options.removeOnShow&&sf_widget.utils.hideWebsiteNodes(sf_widget.options.removeOnShow)),sf_widget.utils.eventQueue.checkFingerprint(),sf_widget.utils.eventQueue.processAsyncEvents(),sf_widget.utils.registerContextualService(),sf_widget.utils.deleteTrackingCookiesIfNeeded(),sf_widget.utils.getTrackingEmployeeId())},initWidgets:function(){sf_widget.utils.resetTracking(),sf_widget.utils.setStore(),sf_widget.utils.setRep(!1),sf_widget.utils.setIp(),sf_widget.utils.setWidgetRepresentant(),this.loadWidgets()},setAcquisition:,setSalesCookie:,annSidebarException:function(){return!("ann"!==sf_widget.options.retailer||"true"===sf_widget.utils.dataStorage.get("sf_wdt_tracking")||sf_widget.utils.testFooterQueryString()||!sf_widget.utils.detectIE())},shouldEnableWidget:function(retailer){if(this.annSidebarException())return!1;if(/(MSIE\ [0-8]\.\d+)/.test(navigator.userAgent))return!1;if(navigator.platform.match(/(Win32|Win16|Win64|WinCE|Windows)/i)&&-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"))return!1;try{localStorage.setItem("2",2)}catch(exception){return!1}return!0},shouldInitWidget:function(retailer){var render=!0;return!0!==window.hideWidgets&&(sf_widget_configs[retailer].rules.shouldRenderWidgets&&(render=sf_widget_configs[retailer].rules.shouldRenderWidgets()),render)},handleWidgetsResponse:function(event){var data,config=sf_widget_configs[sf_widget.options.retailer];if("bru"!==config.retailer&&"tru"!==config.retailer){var getProtectRegEx=function(key){return new RegExp("^https://"+key.replace("//","").replace(/\./g,"\\.").replace(/\/+$/,"")+"$","i")},widgetsMatcher=getProtectRegEx(config.salesfloor_site),storefrontMatcher=getProtectRegEx(config.salesfloor_storefront),origin=event.origin.replace(/\/+$/,"");if(!origin.match(widgetsMatcher)&&!origin.match(storefrontMatcher))return!1}if(event&&event.data)try{data=JSON.parse(event.data)}catch(e){return!1}if(data&&data.action)"dispatchSalesfloorEvent"===data.action&&this.dispatchSalesfloorEvent(data),"dispatchSidebarTrackingEvent"===data.action&&this.dispatchSidebarTrackingEvent(data),"dispatchSidebarMobileClickTrackingEvent"===data.action&&this.dispatchSidebarMobileClickTrackingEvent(data),data.widget&&"template"!==data.target?sf_widget.widgets[data.widget][data.action](data):data.utils&&sf_widget.utils[data.utils][data.action](data);else if(data&&data.widgetId){if(!document.getElementById(data.widgetId)||!document.getElementById(data.widgetId).contentWindow)return;document.getElementById(data.widgetId).contentWindow.postMessage(event.data,"*")}},dispatchEvent:,dispatchSalesfloorEvent:,dispatchSidebarTrackingEvent:,dispatchSidebarMobileClickTrackingEvent:,setCookieUniqueId:function(){var currentUniqueId=sf_widget.utils.dataStorage.get("sf_wdt_customer_id");currentUniqueId||(currentUniqueId=Math.random().toString(36).substr(2,9)),sf_widget.utils.dataStorage.set({name:"sf_wdt_customer_id",value:currentUniqueId,expires:sf_widget.options.saleCookieDuration});var fingerprint=parseInt(currentUniqueId,36);return sf_widget.utils.dataStorage.set({name:sf_widget.utils.eventQueue.fingerprintKey,value:fingerprint,expires:sf_widget.options.saleCookieDuration}),fingerprint},insertWidgetHead:,insertScript:,loadWidgets:function(options){var widget;if(options&&options.widget)(widget=sf_widget.widgets[options.widget])&&widget.load&&widget.load();else if(sf_widget.options.widgets&&0<sf_widget.options.widgets.length)for(var i=0;i<sf_widget.options.widgets.length;i++){var name=sf_widget.options.widgets[i];widget=sf_widget.widgets[name],options&&options.preload?sf_widget.preload&&sf_widget.preload[name]&&sf_widget.preload[name].init():widget&&widget.load&&widget.load()}},reEvaluateWidgetRules:},defaults={widgetHeight:147,widgetWidth:300,sidebarMobileHeight:33,sidebarMobileBottom:0,sidebarMobileLeft:0,sidebarClosedHeight:33,sidebar2Height:255,sidebar2Width:186,sidebar2WidthMobile:340,sidebar2WidthSmall:304,widgetBottom:0,widgetleft:0,cookieSessionRefresh:3e4,cacheCookieDuration:18e5,saleCookieDuration:12096e5,fingerprintCookieDuration:864e7,crossDomain:!(sf_widget.loadPlugins=),removeOnShow:"",footerHeight:95,footerWidth:"100%",footerbottom:0,forceFooter:!1,footerleft:0,footerSpacingElements:"body",footer:{media:{desktop:{position:{bottom:0}},mobile:{position:{bottom:0}}}},widgets:["sidebar","footer"],pageSpacingBottom:"60px",pageSpacingType:"margin",menuWidth:"100%",menuHeight:30,notificationWidth:385,notificationHeight:0,salesfloor_site:"http://elguntors.widgets.dev.salesfloor.net/",salesfloor_api:"http://elguntors.api.dev.salesfloor.net/",salesfloor_storefront:"http://elguntors.dev.salesfloor.net",keyPrefix:"dev_elguntors_",secureOnlyCookies:!0,data_storage_method:"cookie",mode:"rep",logoReplaceSelector:".hdrLogo > a",retailerCookie:""};window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},window.sf_widget.widgets.base=methods,0<window.sf_widget.loadedWidgets||methods.init()}();