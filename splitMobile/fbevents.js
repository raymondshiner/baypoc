/**
* Copyright (c) 2017-present, Facebook, Inc. All rights reserved.
*
* You are hereby granted a non-exclusive, worldwide, royalty-free license to use,
* copy, modify, and distribute this software in source code or binary form for use
* in connection with the web services and APIs provided by Facebook.
*
* As with any software that integrates with the Facebook platform, your use of
* this software is subject to the Facebook Platform Policy
* [http://developers.facebook.com/policy/]. This copyright notice shall be
* included in all copies or substantial portions of the software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
* FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
* COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
* IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
* CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
fbq.version="2.9.58";
fbq._releaseSegment = "stable";
fbq.pendingConfigs=["global_config"];
fbq.__openBridgeRollout = 1.0;
(function(a,b,c,d){var e={exports:{}};e.exports;(function(){var f=a.fbq;f.execStart=a.performance&&a.performance.now&&a.performance.now();if(!function(){var b=a.postMessage||;if(!f){b({action:"FB_LOG",logType:"Facebook Pixel Error",logMessage:"Pixel code is not installed correctly on this page"},"*");"error"in console&&console.error("Facebook Pixel Error: Pixel code is not installed correctly on this page");return!1}return!0}())return;var g=function(){return function(b,c){if(Array.isArray(b))return b;else if((typeof Symbol==="function"?Symbol.iterator:"@@iterator")in Object(b))return a(b,c);else throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),i=typeof Symbol==="function"&&typeof (typeof Symbol==="function"?Symbol.iterator:"@@iterator")==="symbol"?function(a){return typeof a}:;function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function l(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}function m(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}else return Array.from(a)}function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}f.__fbeventsModules||(f.__fbeventsModules={},f.__fbeventsResolvedModules={},f.getFbeventsModules=function(a){f.__fbeventsResolvedModules[a]||(f.__fbeventsResolvedModules[a]=f.__fbeventsModules[a]());return f.__fbeventsResolvedModules[a]},f.fbIsModuleLoaded=function(a){return!!f.__fbeventsModules[a]},f.ensureModuleRegistered=function(b,a){f.fbIsModuleLoaded(b)||(f.__fbeventsModules[b]=a)});f.ensureModuleRegistered("SignalsConvertNodeToHTMLElement",function(){return function(f,g,h,j){var k={exports:{}};k.exports;(function(){"use strict";k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsEventValidation",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsLogging"),b=a.logUserError,c=/^[+-]?\d+(\.\d+)?$/,d="number",e="currency_code",g={AED:1,ARS:1,AUD:1,BOB:1,BRL:1,CAD:1,CHF:1,CLP:1,CNY:1,COP:1,CRC:1,CZK:1,DKK:1,EUR:1,GBP:1,GTQ:1,HKD:1,HNL:1,HUF:1,IDR:1,ILS:1,INR:1,ISK:1,JPY:1,KRW:1,MOP:1,MXN:1,MYR:1,NIO:1,NOK:1,NZD:1,PEN:1,PHP:1,PLN:1,PYG:1,QAR:1,RON:1,RUB:1,SAR:1,SEK:1,SGD:1,THB:1,TRY:1,TWD:1,USD:1,UYU:1,VEF:1,VND:1,ZAR:1};a={value:{isRequired:!0,type:d},currency:{isRequired:!0,type:e}};var h={AddPaymentInfo:{},AddToCart:{},AddToWishlist:{},CompleteRegistration:{},Contact:{},CustomEvent:{validationSchema:{event:{isRequired:!0}}},CustomizeProduct:{},Donate:{},FindLocation:{},InitiateCheckout:{},Lead:{},PageView:{},PixelInitialized:{},Purchase:{validationSchema:a},Schedule:{},Search:{},StartTrial:{},SubmitApplication:{},Subscribe:{},ViewContent:{}},i={agent:!0,automaticmatchingconfig:!0,codeless:!0,tracksingleonly:!0},j=Object.prototype.hasOwnProperty;function n(a){return{error:null,warnings:a}}function p(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!a)return m({type:"NO_EVENT_NAME"});var c=h[a];return!c?n([{eventName:a,type:"NONSTANDARD_EVENT"}]):q(a,b,c)}function q(a,b,f){f=f.validationSchema;var h=[];for(var i in f)if(j.call(f,i)){var k=f[i],l=b[i];if(k){if(k.isRequired!=null&&!j.call(b,i))return m({eventName:a,param:i,type:"REQUIRED_PARAM_MISSING"});if(k.type!=null&&typeof k.type==="string"){var o=!0;switch(k.type){case d:k=(typeof l==="string"||typeof l==="number")&&c.test(""+l);k&&Number(l)<0&&h.push({eventName:a?a:"null",param:i,type:"NEGATIVE_EVENT_PARAM"});o=k;break;case e:o=typeof l==="string"&&!!g[l.toUpperCase()];break}if(!o)return m({eventName:a,param:i,type:"INVALID_PARAM"})}}}return n(h)}function r(a,c){a=p(a,c);a.error&&b(a.error);if(a.warnings)for(var c=0;c<a.warnings.length;c++)b(a.warnings[c]);return a}k.exports={validateEvent:p,validateEventAndLog:r,validateMetadata:o}})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsBaseEvent",function(){return function(g,i,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsUtils"),b=a.map,c=a.keys;a=function(){function a(b){n(this,a),this._regKey=0,this._subscriptions={},this._coerceArgs=b||null}h(a,[{key:"listen",value:function(a){var b=this,c=""+this._regKey++;this._subscriptions[c]=a;return function(){delete b._subscriptions[c]}}},{key:"listenOnce",value:function(a){var b=null,c=function(){b&&b();b=null;return a.apply(void 0,arguments)};b=this.listen(c);return b}},{key:"trigger",value:function(){var a=this;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return b(c(this._subscriptions),function(b){var c;return(c=a._subscriptions)[b].apply(c,e)})}},{key:"triggerWeakly",value:function(){var a=this._coerceArgs!=null?this._coerceArgs.apply(this,arguments):null;return a==null?[]:this.trigger.apply(this,m(a))}}]);return a}();l.exports=a})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsBatcher",function(){return function(g,i,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsConfigStore"),b=1e3,c=10;var i=function(){function a(b){n(this,a),this._waitHandle=null,this._data=[],this._cb=b}h(a,[{key:"addToBatch",value:},{key:"forceEndBatch",value:}]);return a}();l.exports=i})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsCoerceAutomaticMatchingConfig",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsTyped"),b=a.coerce;a=a.Typed;var c=a.objectWithFields({selectedMatchKeys:a.arrayOf(a.string())});k.exports=function(a){return b(a,c)}})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsCoerceBatchingConfig",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsTyped"),b=a.Typed,c=a.coerce,d=a.enforce,e=function(a){var e=c(a,b.objectWithFields({max_batch_size:b.number(),wait_time_ms:b.number()}));return e!=null?{batchWaitTimeMs:e.wait_time_ms,maxBatchSize:e.max_batch_size}:d(a,b.objectWithFields({batchWaitTimeMs:b.number(),maxBatchSize:b.number()}))};k.exports=function(a){return c(a,e)}})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsCoerceInferedEventsConfig",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsCoercePrimitives");a.coerceNumber;var b=a.coerceObjectWithFields;k.exports=c})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsCoerceParameterExtractors",function(){return function(g,h,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsUtils"),b=a.filter,c=a.map,d=f.getFbeventsModules("signalsFBEventsCoerceStandardParameter");l.exports=m})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsCoercePixelID",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsLogging"),b=a.logUserError;a=f.getFbeventsModules("SignalsFBEventsTyped");var c=a.Typed,d=a.coerce;function e(a){a=d(a,c.fbid());if(a==null){var e=JSON.stringify(a);b({pixelID:e!=null?e:"undefined",type:"INVALID_PIXEL_ID"});return null}return a}k.exports=e})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsCoercePrimitives",function(){return function(g,h,j,k){var m={exports:{}};m.exports;(function(){"use strict";var a=Object.assign||,b=f.getFbeventsModules("SignalsFBEventsUtils"),c=b.filter,d=b.map,e=b.reduce;m.exports={coerceArray:o,coerceArrayFilteringNulls:q,coerceArrayOf:r,coerceBoolean:h,coerceEnum:p,coerceMapOf:s,coerceNullableField:t,coerceNumber:j,coerceObject:n,coerceObjectWithFields:u,coerceString:k}})();return m.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsCoerceStandardParameter",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsUtils");a=a.FBSet;var b=new a(["content_category","content_ids","content_name","content_type","currency","contents","num_items","order_id","predicted_ltv","search_string","status","subscription_id","value","id","item_price","quantity","ct","db","em","external_id","fn","ge","ln","namespace","ph","st","zp"]);k.exports=c})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsConfigLoadedEvent",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBaseEvent"),b=f.getFbeventsModules("signalsFBEventsCoercePixelID");a=new a(c);k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsConfigStore",function(){return function(g,i,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsQE"),b=f.getFbeventsModules("SignalsFBEventsProhibitedSourcesTypedef"),c=f.getFbeventsModules("SignalsFBEventsMicrodataConfigTypedef"),d=f.getFbeventsModules("SignalsFBEventsUnwantedDataTypedef"),e=f.getFbeventsModules("SignalsFBEventsDataProcessingOptionsConfigTypedef"),g=f.getFbeventsModules("SignalsFBEventsTyped"),i=g.coerce,j=g.Typed;g=f.getFbeventsModules("SignalsFBEventsOpenBridgeConfigTypedef");var k=f.getFbeventsModules("SignalsFBEventsParallelFireConfigTypedef"),m=f.getFbeventsModules("SignalsFBEventsLocalComputationConfigTypedef"),o=f.getFbeventsModules("signalsFBEventsCoercePixelID"),p=f.getFbeventsModules("signalsFBEventsCoerceBatchingConfig"),q=f.getFbeventsModules("signalsFBEventsCoerceAutomaticMatchingConfig"),r=f.getFbeventsModules("signalsFBEventsCoerceInferedEventsConfig"),s=f.getFbeventsModules("SignalsFBEventsPCMInstagramTriggerAttributionConfigTypedef"),t=f.getFbeventsModules("SignalsFBEventsLogging"),u=t.logError,v="global",w={automaticMatching:q,openbridge:g,batching:p,inferredEvents:r,microdata:c,prohibitedSources:b,unwantedData:d,dataProcessingOptions:e,parallelfire:k,pcmInstagramTriggerAttribution:s,localcomputation:m};t=function(){function b(){n(this,b),this._configStore={automaticMatching:{},batching:{},inferredEvents:{},microdata:{},prohibitedSources:{},unwantedData:{},dataProcessingOptions:{},openbridge:{},parallelfire:{},pcmInstagramTriggerAttribution:{},localcomputation:{}}}h(b,[{key:"set",value:function(a,b,c){a=a==null?v:o(a);if(a==null)return;b=i(b,j.string());if(b==null)return;if(this._configStore[b]==null)return;this._configStore[b][a]=w[b]!=null?w[b](c):c}},{key:"setExperimental",value:},{key:"get",value:function(a,b){return this._configStore[b][a!=null?a:v]}},{key:"getWithGlobalFallback",value:function(a,b){var c=v;b=this._configStore[b];a!=null&&Object.prototype.hasOwnProperty.call(b,a)&&(c=a);return b[c]}},{key:"getAutomaticMatchingConfig",value:},{key:"getInferredEventsConfig",value:},{key:"getPCMInstagramTriggerAttributionConfig",value:function(a){return this.get(a,"pcmInstagramTriggerAttribution")}}]);return b}();l.exports=new t()})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsDataProcessingOptionsConfigTypedef",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsTyped");a=a.Typed;a=a.objectWithFields({dataProcessingOptions:a.withValidation({def:a.arrayOf(a.string()),validators:[]}),dataProcessingCountry:a.withValidation({def:a.allowNull(a.number()),validators:[]}),dataProcessingState:a.withValidation({def:a.allowNull(a.number()),validators:[]})});k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsEvents",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBaseEvent"),b=f.getFbeventsModules("SignalsFBEventsConfigLoadedEvent"),c=f.getFbeventsModules("SignalsFBEventsFiredEvent"),d=f.getFbeventsModules("SignalsFBEventsGetCustomParametersEvent"),e=f.getFbeventsModules("SignalsFBEventsGetIWLParametersEvent"),g=f.getFbeventsModules("SignalsFBEventsIWLBootStrapEvent"),h=f.getFbeventsModules("SignalsFBEventsPIIAutomatchedEvent"),i=f.getFbeventsModules("SignalsFBEventsPIIConflictingEvent"),j=f.getFbeventsModules("SignalsFBEventsPIIInvalidatedEvent"),l=f.getFbeventsModules("SignalsFBEventsPluginLoadedEvent"),m=f.getFbeventsModules("SignalsFBEventsSetEventIDEvent"),n=f.getFbeventsModules("SignalsFBEventsSetIWLExtractorsEvent"),o=f.getFbeventsModules("SignalsFBEventsValidateCustomParametersEvent"),p=f.getFbeventsModules("SignalsFBEventsValidateUrlParametersEvent"),q=f.getFbeventsModules("SignalsFBEventsGetAemResultEvent");b={configLoaded:b,execEnd:new a(),fired:c,getCustomParameters:d,getIWLParameters:e,iwlBootstrap:g,piiAutomatched:h,piiConflicting:i,piiInvalidated:j,pluginLoaded:l,setEventId:m,setIWLExtractors:n,validateCustomParameters:o,validateUrlParameters:p,getAemResult:q};k.exports=b})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsExperimentNames",function(){return function(f,g,h,i){var j={exports:{}};j.exports;(function(){"use strict";j.exports={BATCHING_EXPERIMENT:"batching",SEND_BEACON_STRING_EXPERIMENT:"send_beacon_string",SEND_XHR_EXPERIMENT:"send_xhr",USE_FBC_AS_CACHE_KEY_EXPERIMENT:"use_fbc_as_cache_key"}})();return j.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsExperimentsTypedef",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsTyped"),b=a.Typed;a.coerce;a.enforce;a=b.arrayOf(b.objectWithFields({allocation:b.number(),code:b.string(),name:b.string(),passRate:b.number()}));k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsFBQ",function(){return function(g,i,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a=Object.assign||,b=f.getFbeventsModules("SignalsEventValidation"),c=f.getFbeventsModules("SignalsFBEventsConfigStore"),d=f.getFbeventsModules("SignalsFBEventsEvents"),e=d.configLoaded,k=f.getFbeventsModules("SignalsFBEventsFireLock"),o=f.getFbeventsModules("SignalsFBEventsJSLoader");d=f.getFbeventsModules("SignalsFBEventsLogging");var p=f.getFbeventsModules("SignalsFBEventsOptIn"),q=f.getFbeventsModules("SignalsFBEventsUtils"),r=f.getFbeventsModules("signalsFBEventsGetIsIosInAppBrowser"),s=f.getFbeventsModules("SignalsFBEventsURLUtil"),t=s.getURLParameter;s=f.getFbeventsModules("SignalsPixelCookieUtils");var u=s.CLICK_ID_PARAMETER,v=s.readPackedCookie,w=s.CLICKTHROUGH_COOKIE_NAME;s=f.getFbeventsModules("SignalsFBEventsExperimentNames");var x=s.USE_FBC_AS_CACHE_KEY_EXPERIMENT,y=f.getFbeventsModules("SignalsFBEventsQE"),z=f.getFbeventsModules("SignalsParamList"),A=f.getFbeventsModules("signalsFBEventsSendEvent"),B=q.each,C=q.keys,D=q.map,E=q.some,F=d.logError,G=d.logUserError,H={AutomaticMatching:!0,AutomaticMatchingForPartnerIntegrations:!0,CommonIncludes:!0,FirstPartyCookies:!0,IWLBootstrapper:!0,IWLParameters:!0,InferredEvents:!0,Microdata:!0,MicrodataJsonLd:!0,OpenBridge:!0,ParallelFire:!0,PCMInstagramTriggerAttribution:!0,ProhibitedSources:!0,Timespent:!0,UnwantedData:!0,LocalComputation:!0,IABPCMAEBridge:!0,AEM:!0},I={Track:0,TrackCustom:4,TrackSingle:1,TrackSingleCustom:2,TrackSingleSystem:3,TrackSystem:5};s=["InferredEvents","Microdata"];var J={AutomaticSetup:s},K={AutomaticMatching:["inferredevents","identity"],AutomaticMatchingForPartnerIntegrations:["automaticmatchingforpartnerintegrations"],CommonIncludes:["commonincludes"],FirstPartyCookies:["cookie"],IWLBootstrapper:["iwlbootstrapper"],IWLParameters:["iwlparameters","inferredevents"],InferredEvents:["inferredevents","identity"],Microdata:["microdata","identity"],MicrodataJsonLd:["jsonld_microdata"],ParallelFire:["parallelfire"],PCMInstagramTriggerAttribution:["pcmInstagramTriggerAttribution"],ProhibitedSources:["prohibitedsources"],Timespent:["timespent"],UnwantedData:["unwanteddata"],LocalComputation:["localcomputation"],IABPCMAEBridge:["iabpcmaebridge"],AEM:["aem"]};function L(a){return!!(H[a]||J[a])}var M=function(a,b,c,d,e){var f=new z();f.append("v",b);f.append("r",c);d!=null&&d!=""&&f.append("domain",d);e!=null&&d!=""&&f.append("fbc",e);return o.CONFIG.CDN_BASE_URL+"signals/config/"+a+"?"+f.toQueryString()};function N(a,b,c,d,e){o.loadJSFile(M(a,b,c,d,e))}q=function(){function d(a,b){var e=this;n(this,d);this.VALID_FEATURES=H;this.optIns=new p(J);this.configsLoaded={};this.locks=k.global;this.pluginConfig=c;this.disableFirstPartyCookies=!1;this.VERSION=a.version;this.RELEASE_SEGMENT=a._releaseSegment;this.pixelsByID=b;this.fbq=a;B(a.pendingConfigs||[],function(a){return e.locks.lockConfig(a)})}h(d,[{key:"optIn",value:function(a,b){var c=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof b!=="string"||!L(b))throw new Error('Invalid Argument: "'+b+'" is not a valid opt-in feature');L(b)&&(this.optIns.optIn(a,b,d),B([b].concat(m(J[b]||[])),function(a){K[a]&&B(K[a],function(a){return c.fbq.loadPlugin(a)})}));return this}},{key:"optOut",value:},{key:"consent",value:},{key:"setUserProperties",value:},{key:"trackSingle",value:},{key:"trackSingleCustom",value:},{key:"trackSingleSystem",value:function(a,b,c,d){return this.trackSingleGeneric(b,c,d,I.TrackSingleSystem,null,a)}},{key:"trackSingleGeneric",value:function(b,c,d,e,f,g){b=typeof b==="string"?b:b.id;if(!Object.prototype.hasOwnProperty.call(this.pixelsByID,b)){var h={pixelID:b,type:"PIXEL_NOT_INITIALIZED"};g==null?G(h):F(new Error(h.type+" "+h.pixelID));return this}h=this.getDefaultSendData(b,c,f);h.customData=d;g!=null&&(h.customParameters={es:g});h.customParameters=a({},h.customParameters,{tm:""+e});this.fire(h,!1);return this}},{key:"_validateSend",value:function(a,c){if(!a.eventName||!a.eventName.length)throw new Error("Event name not specified");if(!a.pixelId||!a.pixelId.length)throw new Error("PixelId not specified");a.set&&B(D(C(a.set),),);if(c){c=b.validateEvent(a.eventName,a.customData||{});if(c.error)throw new Error(c.error);c.warnings&&c.warnings.length&&B(c.warnings,G)}return this}},{key:"_argsHasAnyUserData",value:function(a){var b=a.userData!=null&&C(a.userData).length>0;a=a.userDataFormFields!=null&&C(a.userDataFormFields).length>0;return b||a}},{key:"fire",value:function(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._validateSend(a,b);if(this._argsHasAnyUserData(a)&&!this.fbq.loadPlugin("identity")||this.locks.isLocked()){g.fbq("fire",a);return this}var c=a.customParameters,d="";c&&c.es&&typeof c.es==="string"&&(d=c.es);var e=this.fbq.getEventCustomParameters(this.getPixel(a.pixelId),a.eventName,a.customData,d),f=a.eventData.eventID;e.append("eid",f);c&&B(C(c),function(a){if(e.containsKey(a))throw new Error("Custom parameter "+a+" already specified.");e.append(a,c[a])});A({customData:a.customData,customParams:e,eventName:a.eventName,id:a.pixelId,piiTranslator:null});return this}},{key:"callMethod",value:},{key:"getDefaultSendData",value:function(a,b,c){var d=this.getPixel(a);c={eventData:c||{},eventName:b,pixelId:a};d&&(d.userData&&(c.userData=d.userData),d.agent!=null&&d.agent!==""?c.set={agent:d.agent}:this.fbq.agent!=null&&this.fbq.agent!==""&&(c.set={agent:this.fbq.agent}));return c}},{key:"getOptedInPixels",value:function(a){var b=this;return this.optIns.listPixelIds(a).map(function(a){return b.pixelsByID[a]})}},{key:"getPixel",value:function(a){return this.pixelsByID[a]}},{key:"getFBCWithAEMPayload",value:function(){if(!y.isInTest(x)||r()===!1)return"";var a=t(g.location.href,u);a===null&&(a=t(i.referrer,u));if(a!=null&&a.includes("_aem_")){a=a.split("_aem_");if(a.length===2)return a[1]}a=v(w);if(a==null)return"";a=a.payload;if(a==null)return"";a=a.split("_aem_");return a.length!==2?"":a[1]}},{key:"loadConfig",value:function(a){if(this.fbq.disableConfigLoading===!0||Object.prototype.hasOwnProperty.call(this.configsLoaded,a))return;this.locks.lockConfig(a);if(!this.fbq.pendingConfigs||E(this.fbq.pendingConfigs,function(b){return b===a})===!1){var b=j.href,c=i.referrer,d;if(r()===!1)d="";else if(g!==g.parent&&c!=null&&c!==""){c=new URL(c);d=c.hostname}else if(b!=null||b!==""){c=new URL(b);d=c.hostname}else d="";N(a,this.VERSION,this.RELEASE_SEGMENT!=null?this.RELEASE_SEGMENT:"stable",d,this.getFBCWithAEMPayload())}}},{key:"configLoaded",value:function(a){this.configsLoaded[a]=!0,e.trigger(a),this.locks.releaseConfig(a)}}]);return d}();l.exports=q})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsFiredEvent",function(){return function(g,h,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a=Object.assign||,b=f.getFbeventsModules("SignalsFBEventsBaseEvent"),c=f.getFbeventsModules("SignalsParamList");b=new b(d);l.exports=b})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsFireLock",function(){return function(g,i,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsUtils"),b=a.each,c=a.keys;a=function(){function a(){n(this,a),this._locks={},this._callbacks=[]}h(a,[{key:"lock",value:function(a){this._locks[a]=!0}},{key:"release",value:function(a){Object.prototype.hasOwnProperty.call(this._locks,a)&&(delete this._locks[a],c(this._locks).length===0&&b(this._callbacks,function(b){return b(a)}))}},{key:"onUnlocked",value:function(a){this._callbacks.push(a)}},{key:"isLocked",value:function(){return c(this._locks).length>0}},{key:"lockPlugin",value:},{key:"releasePlugin",value:function(a){this.release("plugin:"+a)}},{key:"lockConfig",value:function(a){this.lock("config:"+a)}},{key:"releaseConfig",value:function(a){this.release("config:"+a)}},{key:"lockConsent",value:},{key:"unlockConsent",value:}]);return a}();a.global=new a();l.exports=a})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsGetAemResultEvent",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBaseEvent");a=new a(b);k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsGetCustomParametersEvent",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBaseEvent"),b=f.getFbeventsModules("SignalsFBEventsPixelTypedef"),c=f.getFbeventsModules("SignalsFBEventsTyped"),d=c.Typed,e=c.coerce;c=new a(g);k.exports=c})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsGetIsChrome",function(){return function(f,g,h,i){var j={exports:{}};j.exports;(function(){"use strict";function a(){var a=f.chrome,b=f.navigator,c=b.vendor,d=f.opr!==void 0,e=b.userAgent.indexOf("Edge")>-1;b=b.userAgent.match("CriOS");return!b&&a!==null&&a!==void 0&&c==="Google Inc."&&d===!1&&e===!1}var b=a();function c(){return b}j.exports=c})();return j.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsGetIsIosInAppBrowser",function(){return function(f,g,h,i){var j={exports:{}};j.exports;(function(){"use strict";function a(){var a=f.navigator,b=a.userAgent.indexOf("AppleWebKit"),c=a.userAgent.indexOf("FBIOS"),d=a.userAgent.indexOf("Instagram");a=a.userAgent.indexOf("MessengerLiteForiOS");return b!==null&&(c!=-1||d!=-1||a!=-1)}var b=a();function c(){return b}j.exports=c})();return j.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsGetIsMobileSafari",function(){return function(f,g,h,i){var j={exports:{}};j.exports;(function(){"use strict";function a(){var a=f.navigator;return a.userAgent.indexOf("Safari")!==-1&&a.userAgent.indexOf("Chrome")===-1}function d(){return a()&&b()&&c()}j.exports=d})();return j.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsGetIWLParametersEvent",function(){return function(g,h,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBaseEvent"),b=f.getFbeventsModules("SignalsConvertNodeToHTMLElement"),c=f.getFbeventsModules("SignalsFBEventsPixelTypedef"),d=f.getFbeventsModules("SignalsFBEventsTyped"),e=d.coerce;l.exports=new a(g)})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsInjectMethod",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("signalsFBEventsMakeSafe");function b(b,c,d){var e=b[c],f=a(d);b[c]=}k.exports=b})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsIWLBootStrapEvent",function(){return function(g,h,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBaseEvent"),b=f.getFbeventsModules("signalsFBEventsCoercePixelID");a=new a(c);l.exports=a})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsJSLoader",function(){return function(f,g,h,i){var j={exports:{}};j.exports;(function(){"use strict";var a={CDN_BASE_URL:"https://connect.facebook.net/"};function b(){var b=g.getElementsByTagName("script");for(var c=0;c<b.length;c++){var d=b[c];if(d&&d.src&&d.src.indexOf(a.CDN_BASE_URL)!==-1)return d}return null}function c(a){var c=g.createElement("script");c.src=a;c.async=!0;a=b();a&&a.parentNode?a.parentNode.insertBefore(c,a):g.head&&g.head.firstChild&&g.head.appendChild(c)}j.exports={CONFIG:a,loadJSFile:c}})();return j.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsLegacyExperimentGroupsTypedef",function(){return function(g,h,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsTyped"),b=a.Typed;a.coerce;var c=a.enforce;a=f.getFbeventsModules("SignalsFBEventsTypeVersioning");a=a.upgrade;var e=function(a){a=Array.isArray(a)?a:d(a);return c(a,b.arrayOf(b.objectWithFields({code:b.string(),name:b.string(),passRate:b.number(),range:b.tuple([b.number(),b.number()])})))};l.exports=a(e,)})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsLocalComputationConfigTypedef",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsTyped");a=a.Typed;a=a.objectWithFields({conversionBitMappings:a.arrayOf(a.objectWithFields({eventName:a.allowNull(a.string()),conversionBit:a.number(),eventPriority:a.number(),customConversionId:a.allowNull(a.number()),minValueOptimizationBucket:a.allowNull(a.number()),maxValueOptimizationBucket:a.allowNull(a.number()),roasBucketNum:a.allowNull(a.string())})),eventRulesMappings:a.arrayOf(a.objectWithFields({ruleGroupId:a.number(),derivedEventName:a.string(),transforms:a.number(),condition:a.string()})),customConversionRulesMappings:a.arrayOf(a.objectWithFields({conversionId:a.number(),conversionRule:a.string()})),currencyRateMappings:a.arrayOf(a.objectWithFields({quoteCurrency:a.string(),rate:a.number()})),etldOne:a.string()});k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsLogging",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsUtils"),b=a.isArray,c=a.isInstanceOf,d=a.map,e=f.getFbeventsModules("SignalsParamList"),h=f.getFbeventsModules("signalsFBEventsSendGET"),i=f.getFbeventsModules("SignalsFBEventsJSLoader"),j=!1;var m=!0;var o=!1;var q="console",r="warn",s=[];function t(a){g[q]&&g[q][r]&&(g[q][r](a),o&&s.push(a))}var u=!1;function w(a){if(u)return;t("[Meta Pixel] - "+a)}var x="Meta Pixel Error",y=function(){g.postMessage!=null&&g.postMessage.apply(g,arguments)},z={};function A(a){switch(a.type){case"FBQ_NO_METHOD_NAME":return"You must provide an argument to fbq().";case"INVALID_FBQ_METHOD":var b=a.method;return"\"fbq('"+b+"', ...);\" is not a valid fbq command.";case"INVALID_FBQ_METHOD_PARAMETER":b=a.invalidParamName;var c=a.invalidParamValue,d=a.method,e=a.params;return"Call to \"fbq('"+d+"', "+C(e)+');" with parameter "'+b+'" has an invalid value of "'+B(c)+'"';case"INVALID_PIXEL_ID":d=a.pixelID;return"Invalid PixelID: "+d+".";case"DUPLICATE_PIXEL_ID":e=a.pixelID;return"Duplicate Pixel ID: "+e+".";case"SET_METADATA_ON_UNINITIALIZED_PIXEL_ID":b=a.metadataValue;c=a.pixelID;return"Trying to set argument "+b+" for uninitialized Pixel ID "+c+".";case"CONFLICTING_VERSIONS":return"Multiple pixels with conflicting versions were detected on this page.";case"MULTIPLE_PIXELS":return"Multiple pixels were detected on this page.";case"UNSUPPORTED_METADATA_ARGUMENT":d=a.metadata;return"Unsupported metadata argument: "+d+".";case"REQUIRED_PARAM_MISSING":e=a.param;b=a.eventName;return"Required parameter '"+e+"' is missing for event '"+b+"'.";case"INVALID_PARAM":c=a.param;d=a.eventName;return"Parameter '"+c+"' is invalid for event '"+d+"'.";case"NO_EVENT_NAME":return'Missing event name. Track events must be logged with an event name fbq("track", eventName)';case"NONSTANDARD_EVENT":e=a.eventName;return"You are sending a non-standard event '"+e+"'. The preferred way to send these events is using trackCustom. See 'https://developers.facebook.com/docs/ads-for-websites/pixel-events/#events' for more information.";case"NEGATIVE_EVENT_PARAM":b=a.param;c=a.eventName;return"Parameter '"+b+"' is negative for event '"+c+"'.";case"PII_INVALID_TYPE":d=a.key_type;e=a.key_val;return"An invalid "+d+" was specified for '"+e+"'. This data will not be sent with any events for this Pixel.";case"PII_UNHASHED_PII":b=a.key;return"The value for the '"+b+"' key appeared to be PII. This data will not be sent with any events for this Pixel.";case"INVALID_CONSENT_ACTION":c=a.action;return"\"fbq('"+c+"', ...);\" is not a valid fbq('consent', ...) action. Valid actions are 'revoke' and 'grant'.";case"INVALID_JSON_LD":d=a.jsonLd;return"Unable to parse JSON-LD tag. Malformed JSON found: '"+d+"'.";case"SITE_CODELESS_OPT_OUT":e=a.pixelID;return"Unable to open Codeless events interface for pixel as the site has opted out. Pixel ID: "+e+".";case"PIXEL_NOT_INITIALIZED":b=a.pixelID;return"Pixel "+b+" not found";case"UNWANTED_CUSTOM_DATA":return"Removed parameters from custom data due to potential violations. Go to Events Manager to learn more.";case"UNWANTED_URL_DATA":return"Removed URL query parameters due to potential violations.";default:F(new Error("INVALID_USER_ERROR - "+a.type+" - "+JSON.stringify(a)));return"Invalid User Error."}}var B=,C=;function D(a,b){try{var d=g.fbq.instance.pluginConfig.get(null,"dataProcessingOptions");if(d!=null&&d.dataPrivacyOptions.includes("LDU"))return;d=Math.random();var f=g.fbq&&g.fbq._releaseSegment?g.fbq._releaseSegment:"unknown";if(m&&d<.01||f==="canary"){d=new e(null);d.append("p","pixel");d.append("v",g.fbq&&g.fbq.version?g.fbq.version:"unknown");d.append("e",a.toString());c(a,Error)&&(d.append("f",a.fileName),d.append("s",a.stackTrace||a.stack));d.append("ue",b?"1":"0");d.append("rs",f);h(d,{url:i.CONFIG.CDN_BASE_URL+"/log/error",ignoreRequestLengthCheck:!0})}}catch(a){}}function E(a){var b=JSON.stringify(a);if(!Object.prototype.hasOwnProperty.call(z,b))z[b]=!0;else return;b=A(a);w(b);y({action:"FB_LOG",logMessage:b,logType:x},"*");D(new Error(b),!0)}a={consoleWarn:t,disableAllLogging:v,disableSampling:n,enableVerboseDebugLogging:l,logError:F,logUserError:E,enableBufferedLoggedWarnings:p,bufferedLoggedWarnings:s};k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsMakeSafe",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsLogging"),b=a.logError;function c(a){return }k.exports=c})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsMicrodataConfigTypedef",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsTyped");a=a.Typed;a=a.objectWithFields({waitTimeMs:a.withValidation({def:a.number(),validators:[function(a){return a>0&&a<1e4}]})});k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsMobileAppBridge",function(){return function(g,h,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsTelemetry"),b=f.getFbeventsModules("SignalsFBEventsUtils"),c=b.each,d="fbmq-0.1",e={AddPaymentInfo:"fb_mobile_add_payment_info",AddToCart:"fb_mobile_add_to_cart",AddToWishlist:"fb_mobile_add_to_wishlist",CompleteRegistration:"fb_mobile_complete_registration",InitiateCheckout:"fb_mobile_initiated_checkout",Other:"other",Purchase:"fb_mobile_purchase",Search:"fb_mobile_search",ViewContent:"fb_mobile_content_view"},h={content_ids:"fb_content_id",content_type:"fb_content_type",currency:"fb_currency",num_items:"fb_num_items",search_string:"fb_search_string",value:"_valueToSum",contents:"fb_content"},j={};function n(a){var b=[];a=j[a.id]||{};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(a[c]);return b}function o(a){return n(a).length>0}var t=0;l.exports={pixelHasActiveBridge:o,registerBridge:m,sendEvent:v}})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsNetworkConfig",function(){return function(f,g,h,i){var j={exports:{}};j.exports;(function(){"use strict";var a={ENDPOINT:"https://www.facebook.com/tr/",INSTAGRAM_TRIGGER_ATTRIBUTION:"https://www.instagram.com/tr/",AEM_ENDPOINT:"https://www.facebook.com/.well-known/aggregated-event-measurement/"};j.exports=a})();return j.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsOpenBridgeConfigTypedef",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsTyped"),b=a.Typed;a.coerce;a=b.objectWithFields({endpoints:b.arrayOf(b.objectWithFields({targetDomain:b.allowNull(b.string()),endpoint:b.allowNull(b.string())})),eventsFilter:b.allowNull(b.objectWithFields({filteringMode:b.allowNull(b.string()),eventNames:b.allowNull(b.arrayOf(b.string()))}))});k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsOptIn",function(){return function(g,i,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsUtils"),b=a.each,c=a.filter,d=a.keys,e=a.some;function g(a){b(d(a),function(b){if(e(a[b],function(b){return Object.prototype.hasOwnProperty.call(a,b)}))throw new Error("Circular subOpts are not allowed. "+b+" depends on another subOpt")})}a=function(){function a(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n(this,a);this._opts={};this._subOpts=b;g(this._subOpts)}h(a,[{key:"_getOpts",value:function(a){return[].concat(m(Object.prototype.hasOwnProperty.call(this._subOpts,a)?this._subOpts[a]:[]),[a])}},{key:"_setOpt",value:function(a,b,c){b=this._opts[b]||(this._opts[b]={});b[a]=c}},{key:"optIn",value:function(a,c){var d=this,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;b(this._getOpts(c),function(b){var f=e==!0&&d.isOptedOut(a,c);f||d._setOpt(a,b,!0)});return this}},{key:"optOut",value:},{key:"isOptedIn",value:function(a,b){return this._opts[b]!=null&&this._opts[b][a]===!0}},{key:"isOptedOut",value:function(a,b){return this._opts[b]!=null&&this._opts[b][a]===!1}},{key:"listPixelIds",value:function(a){var b=this._opts[a];return b!=null?c(d(b),function(a){return b[a]===!0}):[]}}]);return a}();l.exports=a})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsParallelFireConfigTypedef",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsTyped");a=a.Typed;a=a.objectWithFields({target:a.string()});k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsPCMInstagramTriggerAttributionConfigTypedef",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsTyped");a=a.Typed;a=a.objectWithFields({pcmInstagramTriggerAttributionURL:a.string()});k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsPIIAutomatchedEvent",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBaseEvent"),b=f.getFbeventsModules("SignalsFBEventsPixelTypedef"),c=f.getFbeventsModules("SignalsFBEventsTyped"),d=c.coerce;c=new a(e);k.exports=c})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsPIIConflictingEvent",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBaseEvent"),b=f.getFbeventsModules("SignalsFBEventsPixelTypedef"),c=f.getFbeventsModules("SignalsFBEventsTyped"),d=c.coerce;c=new a(e);k.exports=c})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsPIIInvalidatedEvent",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBaseEvent"),b=f.getFbeventsModules("SignalsFBEventsPixelTypedef"),c=f.getFbeventsModules("SignalsFBEventsTyped"),d=c.coerce;k.exports=new a(e)})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsPixelCookie",function(){return function(i,j,k,l){var m={exports:{}};m.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsLogging"),b=a.logError,c="fb",d=4;a=function(){function a(b){n(this,a),typeof b==="string"?this.maybeUpdatePayload(b):(this.subdomainIndex=b.subdomainIndex,this.creationTime=b.creationTime,this.payload=b.payload)}h(a,[{key:"pack",value:function(){return[c,this.subdomainIndex,this.creationTime,this.payload].join(".")}},{key:"maybeUpdatePayload",value:function(a){if(this.payload===null||this.payload!==a){this.payload=a;a=Date.now();this.creationTime=typeof a==="number"?a:new Date().getTime()}}}],[{key:"unpack",value:function(e){try{e=e.split(".");if(e.length!==d)return null;var f=g(e,4),h=f[0],i=f[1],j=f[2];f=f[3];if(h!==c)throw new Error("Unexpected version number '"+e[0]+"'");h=parseInt(i,10);if(isNaN(h))throw new Error("Illegal subdomain index '"+e[1]+"'");i=parseInt(j,10);if(isNaN(i))throw new Error("Illegal creation time '"+e[2]+"'");if(f==null||f==="")throw new Error("Empty cookie payload");return new a({creationTime:i,payload:f,subdomainIndex:h})}catch(a){b(a);return null}}}]);return a}();m.exports=a})();return m.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsPixelTypedef",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsTyped");a=a.Typed;a=a.objectWithFields({eventCount:a.number(),id:a.fbid(),userData:a.mapOf(a.string()),userDataFormFields:a.mapOf(a.string())});k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsPlugin",function(){return function(f,g,h,i){var j={exports:{}};j.exports;(function(){"use strict";var a=function a(b){n(this,a),this.__fbEventsPlugin=1,this.plugin=b,this.__fbEventsPlugin=1};j.exports=a})();return j.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsPluginLoadedEvent",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBaseEvent");k.exports=new a(b)})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsPluginManager",function(){return function(g,j,k,l){var m={exports:{}};m.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsConfigStore"),b=f.getFbeventsModules("SignalsFBEventsEvents"),c=b.pluginLoaded,d=f.getFbeventsModules("SignalsFBEventsJSLoader");b=f.getFbeventsModules("SignalsFBEventsLogging");var e=b.logError,g=f.getFbeventsModules("SignalsFBEventsPlugin");function j(a){return"fbevents.plugins."+a}function k(a,b){if(a==="fbevents")return new g(function(){});if(b instanceof g)return b;if(b==null||(typeof b==="undefined"?"undefined":i(b))!=="object"){e(new Error("Invalid plugin registered "+a));return new g()}var c=b.__fbEventsPlugin;b=b.plugin;if(c!==1||typeof b!=="function"){e(new Error("Invalid plugin registered "+a));return new g()}return new g(b)}b=function(){function b(a,c){n(this,b),this._loadedPlugins={},this._instance=a,this._lock=c}h(b,[{key:"registerPlugin",value:function(b,d){if(Object.prototype.hasOwnProperty.call(this._loadedPlugins,b))return;this._loadedPlugins[b]=k(b,d);this._loadedPlugins[b].plugin(f,this._instance,a);c.trigger(b);this._lock.releasePlugin(b)}},{key:"loadPlugin",value:function(a){if(/^[a-zA-Z]\w+$/.test(a)===!1)throw new Error("Invalid plugin name: "+a);var b=j(a);if(this._loadedPlugins[b])return!0;if(f.fbIsModuleLoaded(b)){this.registerPlugin(b,f.getFbeventsModules(b));return!0}a=d.CONFIG.CDN_BASE_URL+"signals/plugins/"+a+".js?v="+f.version;if(!this._loadedPlugins[b]){this._lock.lockPlugin(b);d.loadJSFile(a);return!0}return!1}}]);return b}();m.exports=b})();return m.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsProhibitedSourcesTypedef",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsTyped"),b=a.Typed;a.coerce;a=b.objectWithFields({prohibitedSources:b.arrayOf(b.objectWithFields({domain:b.allowNull(b.string())}))});k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsQE",function(){return function(i,j,k,l){var m={exports:{}};m.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsExperimentsTypedef"),b=f.getFbeventsModules("SignalsFBEventsLegacyExperimentGroupsTypedef"),c=f.getFbeventsModules("SignalsFBEventsTypeVersioning"),d=f.getFbeventsModules("SignalsFBEventsTyped"),e=d.coerce;d=f.getFbeventsModules("SignalsFBEventsUtils");var i=d.reduce,j=function(){return Math.random()};function k(a){var b=i(a,function(b,c,a){if(a===0){b.push([0,c.allocation]);return b}a=g(b[a-1],2);a[0];a=a[1];b.push([a,a+c.allocation]);return b},[]),c=j();for(var d=0;d<a.length;d++){var e=a[d],f=e.passRate,h=e.code;e=e.name;var k=g(b[d],2),l=k[0];k=k[1];if(c>=l&&c<k){l=j()<f;return{code:h+(l?"1":"0"),isInExperimentGroup:l,name:e}}}return null}d=function(){function d(){n(this,d),this._result=null,this._hasRolled=!1}h(d,[{key:"setExperiments",value:function(d){d=e(d,c.waterfall([b,a]));d!=null&&(this._experiments=d,this._hasRolled=!1,this._result=null)}},{key:"get",value:function(a){if(!this._hasRolled){var b=this._experiments;if(b==null)return null;b=k(b);b!=null&&(this._result=b);this._hasRolled=!0}if(a==null||a==="")return this._result;return this._result!=null&&this._result.name===a?this._result:null}},{key:"getCustomDataPayload",value:function(){var a=this.get();return a==null?{}:{exp:a.code}}},{key:"isInTestOrControl",value:function(a){var b=this.get();return b!=null&&b.name===a}},{key:"isInTest",value:function(a){var b=this.get();return b!=null&&b.name===a&&b.isInExperimentGroup}}]);return d}();m.exports=new d()})();return m.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsResolveLegacyArguments",function(){return function(f,h,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a="report";function b(a){var b=g(a,1);b=b[0];return a.length===1&&Array.isArray(b)?{args:b,isLegacySyntax:!0}:{args:a,isLegacySyntax:!1}}function c(b){var c=g(b,2),d=c[0];c=c[1];if(typeof d==="string"&&d.slice(0,a.length)===a){d=d.slice(a.length);if(d==="CustomEvent"){c!=null&&(typeof c==="undefined"?"undefined":i(c))==="object"&&typeof c.event==="string"&&(d=c.event);return["trackCustom",d].concat(b.slice(1))}return["track",d].concat(b.slice(1))}return b}function d(a){a=b(a);var d=a.args;a=a.isLegacySyntax;d=c(d);return{args:d,isLegacySyntax:a}}l.exports=d})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsSendBatch",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBatcher"),b=f.getFbeventsModules("SignalsFBEventsLogging"),c=b.logError;b=f.getFbeventsModules("SignalsFBEventsUtils");var d=b.map,e=f.getFbeventsModules("SignalsParamList"),h=f.getFbeventsModules("signalsFBEventsSendBeacon"),i=f.getFbeventsModules("signalsFBEventsSendGET"),j=f.getFbeventsModules("signalsFBEventsSendXHR");var m=new a(l);g.addEventListener("onpagehide"in g?"pagehide":"unload",);k.exports=n})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsSendBeacon",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsQE"),b=f.getFbeventsModules("SignalsFBEventsNetworkConfig"),c=f.getFbeventsModules("SignalsFBEventsExperimentNames"),d=c.SEND_BEACON_STRING_EXPERIMENT;k.exports=e})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsSendEvent",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsEvents"),b=a.fired,c=a.setEventId,d=f.getFbeventsModules("SignalsFBEventsQE"),e=f.getFbeventsModules("SignalsParamList"),j=f.getFbeventsModules("SignalsFBEventsConfigStore"),l=f.getFbeventsModules("signalsFBEventsSendBatch"),m=f.getFbeventsModules("signalsFBEventsSendBeacon"),n=f.getFbeventsModules("signalsFBEventsSendGET"),o=f.getFbeventsModules("signalsFBEventsSendXHR"),p=f.getFbeventsModules("signalsFBEventsSendFormPOST"),q=f.getFbeventsModules("signalsFBEventsGetIsChrome"),r=f.getFbeventsModules("signalsFBEventsGetIsMobileSafari"),s=f.getFbeventsModules("SignalsFBEventsSendEventEvent");a=f.getFbeventsModules("SignalsFBEventsUtils");var t=a.some;a=f.getFbeventsModules("SignalsFBEventsExperimentNames");var u=a.BATCHING_EXPERIMENT,v=a.SEND_BEACON_STRING_EXPERIMENT,w=a.SEND_XHR_EXPERIMENT,x=g.top!==g,y="SubscribedButtonClick";function z(a){a=j.getPCMInstagramTriggerAttributionConfig(a)!=null;return r()&&a}function A(a){var b=a.customData,c=a.customParams,f=a.eventName,j=a.id,k=a.piiTranslator,l=a.documentLink,m=a.referrerLink,n=i.href;Object.prototype.hasOwnProperty.call(a,"documentLink")&&(n=l);l=h.referrer;Object.prototype.hasOwnProperty.call(a,"referrerLink")&&(l=m);a=new e(k);a.append("id",j);a.append("ev",f);a.append("dl",n);a.append("rl",l);a.append("if",x);a.append("ts",new Date().valueOf());a.append("cd",b);a.append("sw",g.screen.width);a.append("sh",g.screen.height);z(j)&&a.append("is_pcm",!0);c&&a.addRange(c);a.appendHash(d.getCustomDataPayload());return a}function B(a){var e=s.trigger(a);if(t(e,function(a){return a}))return;e=a.customData;var f=a.eventName,g=A(a);c.trigger(a.id,g);if(d.isInTest(u)){l(g);b.trigger("BATCH",g,e);return}a=d.isInTestOrControl(v)||!q();if(a&&f===y&&m(g)){b.trigger("BEACON",g,e);return}if(n(g)){b.trigger("GET",g,e);return}if(a&&m(g)){b.trigger("BEACON",g,e);return}if(d.isInTest(w)){if(o(g)){b.trigger("XHR",g,e);return}n(g,{ignoreRequestLengthCheck:!0});b.trigger("FGET",g,e);return}p(g);b.trigger("POST",g,e)}k.exports=B})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsSendEventEvent",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBaseEvent"),b=f.getFbeventsModules("SignalsParamList");f.getFbeventsModules("SignalsFBEventsPixelTypedef");var c=f.getFbeventsModules("SignalsFBEventsTyped"),d=c.Typed;c.coerce;c=d.objectWithFields({customData:d.allowNull(d.object()),customParams:,eventName:d.string(),id:d.string(),piiTranslator:,documentLink:d.allowNull(d.string()),referrerLink:d.allowNull(d.string())});a=new a(d.tuple([c]));k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsSendFormPOST",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsNetworkConfig"),b=f.getFbeventsModules("SignalsFBEventsUtils"),c=b.listenOnce;k.exports=d})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsSendGET",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsNetworkConfig"),b=2048;function c(c,d){var e=d||{},f=e.ignoreRequestLengthCheck;f=f===void 0?!1:f;e=e.url;e=e===void 0?a.ENDPOINT:e;c.replaceEntry("rqm",f?"FGET":"GET");c=c.toQueryString();e=e+"?"+c;if(f||e.length<b){c=new Image();d!=null&&d.errorHandler!=null&&(c.onerror=d.errorHandler);c.src=e;return!0}return!1}k.exports=c})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsSendXHR",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsNetworkConfig"),b=f.getFbeventsModules("SignalsParamList"),c=f.getFbeventsModules("SignalsFBEventsLogging"),d=c.logError,e={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},g=typeof XMLHttpRequest!=="undefined"&&"withCredentials"in new XMLHttpRequest();k.exports=i})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsSetEventIDEvent",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBaseEvent"),b=f.getFbeventsModules("SignalsParamList"),c=f.getFbeventsModules("SignalsFBEventsPixelTypedef"),d=f.getFbeventsModules("SignalsFBEventsTyped"),e=d.coerce;d=new a(g);k.exports=d})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsSetIWLExtractorsEvent",function(){return function(g,h,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBaseEvent"),b=f.getFbeventsModules("SignalsFBEventsUtils"),c=b.filter,d=b.map,e=f.getFbeventsModules("signalsFBEventsCoerceParameterExtractors"),g=f.getFbeventsModules("signalsFBEventsCoercePixelID");function h(){for(var a=arguments.length,b=Array(a),f=0;f<a;f++)b[f]=arguments[f];var h=b[0];if(h==null||(typeof h==="undefined"?"undefined":i(h))!=="object")return null;var j=h.pixelID,k=h.extractors,l=g(j),m=Array.isArray(k)?d(k,e):null,n=m!=null?c(m,Boolean):null;return n!=null&&m!=null&&n.length===m.length&&l!=null?[{extractors:n,pixelID:l}]:null}b=new a(h);l.exports=b})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsTelemetry",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsLogging"),b=f.getFbeventsModules("SignalsParamList");f.getFbeventsModules("SignalsFBEventsQE");var c=f.getFbeventsModules("signalsFBEventsSendGET");f.getFbeventsModules("signalsFBEventsSendXHR");f.getFbeventsModules("signalsFBEventsSendBeacon");var d=f.getFbeventsModules("SignalsFBEventsExperimentNames");d.SEND_BEACON_STRING_EXPERIMENT;d=.01;var e=Math.random(),h=g.fbq&&g.fbq._releaseSegment?g.fbq._releaseSegment:"unknown",i=e<d||h==="canary",j="https://connect.facebook.net/log/fbevents_telemetry/";k.exports={logMobileNativeForwarding:m}})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsTyped",function(){return function(g,h,m,d){var e={exports:{}};e.exports;(function(){"use strict";var a=Object.assign||,b=f.getFbeventsModules("SignalsFBEventsUtils");b.filter;b.map;var c=b.reduce;b=f.getFbeventsModules("SignalsFBEventsUtils");var d=b.isSafeInteger,g=function(b){k(a,b);function a(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";n(this,a);var c=j(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,b));c.name="FBEventsCoercionError";return c}return a}(Error);function o(){return function(a){if(typeof a!=="number")throw new g();return a}}function p(){return function(a){if(typeof a!=="string")throw new g();return a}}function q(){return function(a){if((typeof a==="undefined"?"undefined":i(a))!=="object"||Array.isArray(a)||a==null)throw new g();return a}}function r(){return function(a){if(a==null||!Array.isArray(a))throw new g();return a}}function t(a){return function(b){return y(b,F.array()).map(a)}}function u(b){return function(e){var d=y(e,F.object());return c(Object.keys(d),function(c,e){return a({},c,l({},e,b(d[e])))},{})}}function v(a){return function(b){return b==null?null:a(b)}}function w(b){return function(e){var d=y(e,F.object());e=c(Object.keys(b),function(c,e){if(c==null)return null;var f=b[e],g=d[e];f=f(g);return a({},c,l({},e,f))},{});return e}}function x(a,b){try{return b(a)}catch(a){if(a.name==="FBEventsCoercionError")return null;throw a}}function y(a,b){return b(a)}function B(a){return function(b){b=y(b,r());A(b.length===a.length);return b.map()}}function C(a){var b=a.def,c=a.validators;return function(a){var d=y(a,b);c.forEach(function(a){if(!a(d))throw new g()});return d}}var D=/^[1-9][0-9]{0,25}$/;function E(){return C({def:function(a){var b=x(a,F.number());if(b!=null){F.assert(d(b));return""+b}return y(a,F.string())},validators:[function(a){return D.test(a)}]})}var F={allowNull:v,array:r,arrayOf:t,assert:A,"boolean":m,enumeration:s,fbid:E,mapOf:u,matches:z,number:o,object:q,objectWithFields:w,string:p,tuple:B,withValidation:C};e.exports={Typed:F,coerce:x,enforce:y,FBEventsCoercionError:g}})();return e.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsTypeVersioning",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){var a=f.getFbeventsModules("SignalsFBEventsTyped");a.coerce;var b=a.enforce,c=a.FBEventsCoercionError;function d(a){return function(d){for(var e=0;e<a.length;e++){var f=a[e];try{return b(d,f)}catch(a){if(a.name==="FBEventsCoercionError")continue;throw a}}throw new c()}}function e(a,c){return function(d){return c(b(d,a))}}a={waterfall:d,upgrade:e};k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsUnwantedDataTypedef",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsTyped"),b=a.Typed;a.coerce;a=b.objectWithFields({blacklisted_keys:b.allowNull(b.mapOf(b.mapOf(b.arrayOf(b.string())))),sensitive_keys:b.allowNull(b.mapOf(b.mapOf(b.arrayOf(b.string()))))});k.exports=a})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsURLUtil",function(){return function(f,g,h,i){var j={exports:{}};j.exports;(function(){"use strict";function a(a,b){b=new RegExp("[?#&]"+b.replace(/[\[\]]/g,"\\$&")+"(=([^&#]*)|&|#|$)");b=b.exec(a);if(!b)return null;return!b[2]?"":decodeURIComponent(b[2].replace(/\+/g," "))}j.exports={getURLParameter:a}})();return j.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsUtils",function(){return function(f,g,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a=Object.prototype.toString,b=!("addEventListener"in g);function d(b){return Array.isArray?Array.isArray(b):a.call(b)==="[object Array]"}function e(a){return typeof a==="number"||typeof a==="string"&&/^\d+$/.test(a)}function f(a){return a!=null&&(typeof a==="undefined"?"undefined":i(a))==="object"&&d(a)===!1}function j(a){return f(a)===!0&&Object.prototype.toString.call(a)==="[object Object]"}function k(a){if(j(a)===!1)return!1;a=a.constructor;if(typeof a!=="function")return!1;a=a.prototype;if(j(a)===!1)return!1;return Object.prototype.hasOwnProperty.call(a,"isPrototypeOf")===!1?!1:!0}var m=Number.isInteger||;var q=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=s.length;function u(a){if((typeof a==="undefined"?"undefined":i(a))!=="object"&&(typeof a!=="function"||a===null))throw new TypeError("Object.keys called on non-object");var b=[];for(var c in a)q.call(a,c)&&b.push(c);if(r)for(var c=0;c<t;c++)q.call(a,s[c])&&b.push(s[c]);return b}function v(a,b){if(a==null)throw new TypeError(" array is null or not defined");a=Object(a);var c=a.length>>>0;if(typeof b!=="function")throw new TypeError(b+" is not a function");var d=new Array(c),e=0;while(e<c){var f;e in a&&(f=a[e],f=b(f,e,a),d[e]=f);e++}return d}function w(a,b,c){if(a==null)throw new TypeError(" array is null or not defined");if(typeof b!=="function")throw new TypeError(b+" is not a function");var d=Object(a),e=d.length>>>0,f=0;if(c!=null)c=c;else{while(f<e&&!(f in d))f++;if(f>=e)throw new TypeError("Reduce of empty array with no initial value");c=d[f++]}while(f<e)f in d&&(c=b(c,d[f],f,a)),f++;return c}function x(a){if(typeof a!=="function")throw new TypeError();var b=Object(this),c=b.length>>>0,d=arguments.length>=2?arguments[1]:void 0;for(var e=0;e<c;e++)if(e in b&&a.call(d,b[e],e,b))return!0;return!1}function y(a){return u(a).length===0}function z(a){if(this===void 0||this===null)throw new TypeError();var b=Object(this),c=b.length>>>0;if(typeof a!=="function")throw new TypeError();var d=[],e=arguments.length>=2?arguments[1]:void 0;for(var f=0;f<c;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}function A(a,b){try{return b(a)}catch(a){if(a instanceof TypeError)if(B.test(a))return null;else if(C.test(a))return void 0;throw a}}var B=/^null | null$|^[^(]* null /i,C=/^undefined | undefined$|^[^(]* undefined /i;A["default"]=A;var D=function(){function a(b){n(this,a),this.items=b||[]}h(a,[{key:"has",value:function(a){return x.call(this.items,function(b){return b===a})}},{key:"add",value:function(a){this.items.push(a)}}]);return a}();D={FBSet:D,castTo:E,each:function(a,b){v.call(this,a,b)},filter:function(a,b){return z.call(a,b)},idx:A,isArray:d,isEmptyObject:y,isInstanceOf:c,isInteger:m,isNumber:e,isObject:f,isPlainObject:k,isSafeInteger:o,keys:u,listenOnce:p,map:v,reduce:w,some:function(a,b){return x.call(a,b)},stringIncludes:F,stringStartsWith:G};l.exports=D})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsValidateCustomParametersEvent",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBaseEvent"),b=f.getFbeventsModules("SignalsFBEventsTyped"),c=b.coerce,d=b.Typed,e=f.getFbeventsModules("SignalsFBEventsPixelTypedef");b=f.getFbeventsModules("SignalsFBEventsCoercePrimitives");b.coerceString;b=new a(g);k.exports=b})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsValidateUrlParametersEvent",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsBaseEvent"),b=f.getFbeventsModules("SignalsFBEventsTyped"),c=b.coerce,d=b.Typed,e=f.getFbeventsModules("SignalsFBEventsPixelTypedef");b=f.getFbeventsModules("SignalsFBEventsCoercePrimitives");b.coerceString;b=new a(g);k.exports=b})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsParamList",function(){return function(f,g,j,k){var l={exports:{}};l.exports;(function(){"use strict";var a="deep",b="shallow",c=["eid"];function d(a){return JSON===void 0||JSON===null||!JSON.stringify?Object.prototype.toString.call(a):JSON.stringify(a)}function e(a){if(a===null||a===void 0)return!0;a=typeof a==="undefined"?"undefined":i(a);return a==="number"||a==="boolean"||a==="string"}var f=function(){function f(a){n(this,f),this._params=[],this._piiTranslator=a}h(f,[{key:"containsKey",value:function(a){for(var b=0;b<this._params.length;b++)if(this._params[b].name===a)return!0;return!1}},{key:"get",value:function(a){a=a;for(var b=0;b<this._params.length;b++)if(this._params[b].name===a)return this._params[b].value;return null}},{key:"getAllParams",value:},{key:"replaceEntry",value:function(a,b){this._removeKey(a),this.append(a,b)}},{key:"addRange",value:function(a){var c=this;a.each(function(a,d){return c._append({name:a,value:d},b,!1)})}},{key:"append",value:function(b,c){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this._append({name:encodeURIComponent(b),value:c},a,d);return this}},{key:"appendHash",value:function(b){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&this._append({name:encodeURIComponent(d),value:b[d]},a,c);return this}},{key:"_removeKey",value:function(a){var b=0;while(b<this._params.length)this._params[b].name===a?this._params.splice(b,1):b++}},{key:"_append",value:function(b,f,g){var h=b.name;b=b.value;if(b!=null)for(var i=0;i<c.length;i++){var j=c[i];j===h&&this._removeKey(h)}e(b)?this._appendPrimitive(h,b,g):f===a?this._appendObject(h,b,g):this._appendPrimitive(h,d(b),g)}},{key:"_translateValue",value:function(a,b,c){if(typeof b==="boolean")return b?"true":"false";if(!c)return""+b;if(!this._piiTranslator)throw new Error();return this._piiTranslator(a,""+b)}},{key:"_appendPrimitive",value:function(a,b,c){if(b!=null){b=this._translateValue(a,b,c);b!=null&&this._params.push({name:a,value:b})}}},{key:"_appendObject",value:function(a,c,d){var e=null;for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var g=a+"["+encodeURIComponent(f)+"]";try{this._append({name:g,value:c[f]},b,d)}catch(a){e==null&&(e=a)}}if(e!=null)throw e}},{key:"each",value:function(a){for(var b=0;b<this._params.length;b++){var c=this._params[b],d=c.name;c=c.value;a(d,c)}}},{key:"toQueryString",value:function(){var a=[];this.each(function(b,c){a.push(b+"="+encodeURIComponent(c))});return a.join("&")}},{key:"toFormData",value:}],[{key:"fromHash",value:}]);return f}();l.exports=f})();return l.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsPixelCookieUtils",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsPixelCookie"),b=f.getFbeventsModules("signalsFBEventsGetIsChrome"),c=f.getFbeventsModules("SignalsFBEventsLogging");c.logError;var d=90*24*60*60*1e3;c="_fbc";var e="fbc",i="_fbp",j="fbp",l="fbclid";function m(a){return new Date(Date.now()+Math.round(a)).toUTCString()}function n(a){var b=[],c=h.cookie.split(";");a="^\\s*"+a+"=\\s*(.*?)\\s*$";a=new RegExp(a);for(var d=0;d<c.length;d++){var e=c[d].match(a);e&&b.push(e[1])}return b&&typeof b[0]==="string"?b[0]:""}function o(b){b=n(b);return typeof b!=="string"||b===""?null:a.unpack(b)}function p(a,b){return a.slice(a.length-1-b).join(".")}function q(a,c,e){var f=m(d);h.cookie=a+"="+c+";"+("expires="+f+";")+("domain=."+e+";")+(""+(b()?"SameSite=Lax;":""))+"path=/"}function r(a,b){var c=g.location.hostname;c=c.split(".");if(b.subdomainIndex==null)throw new Error("Subdomain index not set on cookie.");c=p(c,b.subdomainIndex);q(a,b.pack(),c);return b}function s(b,c){var d=g.location.hostname;d=d.split(".");c=new a(c);for(var e=0;e<d.length;e++){var f=p(d,e);c.subdomainIndex=e;q(b,c.pack(),f);if(n(b)!=="")return c}return null}k.exports={readPackedCookie:o,writeNewCookie:s,writeExistingCookie:r,CLICK_ID_PARAMETER:l,CLICKTHROUGH_COOKIE_NAME:c,CLICKTHROUGH_COOKIE_PARAM:e,DOMAIN_SCOPED_BROWSER_ID_COOKIE_NAME:i,DOMAIN_SCOPED_BROWSER_ID_COOKIE_PARAM:j}})();return k.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEvents.plugins.commonincludes",function(){return function(g,h,i,j){var k={exports:{}};k.exports;(function(){"use strict";var a=f.getFbeventsModules("SignalsFBEventsPlugin");k.exports=new a(function(a,b){})})();return k.exports}(a,b,c,d)});e.exports=f.getFbeventsModules("SignalsFBEvents.plugins.commonincludes");f.registerPlugin&&f.registerPlugin("fbevents.plugins.commonincludes",e.exports);f.ensureModuleRegistered("fbevents.plugins.commonincludes",function(){return e.exports})})()})(window,document,location,history);
(function(a,b,c,d){var e={exports:{}};e.exports;(function(){var f=a.fbq;f.execStart=a.performance&&a.performance.now&&a.performance.now();if(!function(){var b=a.postMessage||;if(!f){b({action:"FB_LOG",logType:"Facebook Pixel Error",logMessage:"Pixel code is not installed correctly on this page"},"*");"error"in console&&console.error("Facebook Pixel Error: Pixel code is not installed correctly on this page");return!1}return!0}())return;f.__fbeventsModules||(f.__fbeventsModules={},f.__fbeventsResolvedModules={},f.getFbeventsModules=,f.fbIsModuleLoaded=,f.ensureModuleRegistered=);f.ensureModuleRegistered("signalsFBEventsGetIwlUrl",function(){return function(a,b,c,d){var e={exports:{}};e.exports;(function(){"use strict";var a=f.getFbeventsModules("signalsFBEventsGetTier");e.exports=})();return e.exports}(a,b,c,d)});f.ensureModuleRegistered("signalsFBEventsGetTier",function(){return function(f,b,c,d){var e={exports:{}};e.exports;(function(){"use strict";var a=/^https:\/\/www\.([A-Za-z0-9\.]+)\.facebook\.com\/tr\/?$/,b=["https://www.facebook.com/tr","https://www.facebook.com/tr/"];e.exports=})();return e.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEvents.plugins.iwlbootstrapper",function(){return function(a,b,c,d){var e={exports:{}};e.exports;(function(){"use strict";var c=f.getFbeventsModules("SignalsFBEventsIWLBootStrapEvent"),d=f.getFbeventsModules("SignalsFBEventsLogging"),g=f.getFbeventsModules("SignalsFBEventsNetworkConfig"),h=f.getFbeventsModules("SignalsFBEventsPlugin"),i=f.getFbeventsModules("signalsFBEventsGetIwlUrl"),j=f.getFbeventsModules("signalsFBEventsGetTier"),k=d.logUserError,l=/^https:\/\/.*\.facebook\.com$/i,m="FACEBOOK_IWL_CONFIG_STORAGE_KEY",n=a.sessionStorage?a.sessionStorage:{getItem:,removeItem:,setItem:};e.exports=new h(function(d,e){var o=!1,p=;c.listen();if(n.getItem(m)){q();return}a.opener&&a.addEventListener("message",d)})})();return e.exports}(a,b,c,d)});e.exports=f.getFbeventsModules("SignalsFBEvents.plugins.iwlbootstrapper");f.registerPlugin&&f.registerPlugin("fbevents.plugins.iwlbootstrapper",e.exports);f.ensureModuleRegistered("fbevents.plugins.iwlbootstrapper",)})()})(window,document,location,history);
(function(a,b,c,d){var e={exports:{}};e.exports;(function(){var f=a.fbq;f.execStart=a.performance&&a.performance.now&&a.performance.now();if(!function(){var b=a.postMessage||;if(!f){b({action:"FB_LOG",logType:"Facebook Pixel Error",logMessage:"Pixel code is not installed correctly on this page"},"*");"error"in console&&console.error("Facebook Pixel Error: Pixel code is not installed correctly on this page");return!1}return!0}())return;f.__fbeventsModules||(f.__fbeventsModules={},f.__fbeventsResolvedModules={},f.getFbeventsModules=,f.fbIsModuleLoaded=,f.ensureModuleRegistered=);f.ensureModuleRegistered("SignalsFBEventsOptTrackingOptions",function(){return function(f,b,c,d){var e={exports:{}};e.exports;(function(){"use strict";e.exports={AUTO_CONFIG_OPT_OUT:1<<0,AUTO_CONFIG:1<<1,CONFIG_LOADING:1<<2,SUPPORTS_DEFINE_PROPERTY:1<<3,SUPPORTS_SEND_BEACON:1<<4,HAS_INVALIDATED_PII:1<<5,SHOULD_PROXY:1<<6,IS_HEADLESS:1<<7,IS_SELENIUM:1<<8,HAS_DETECTION_FAILED:1<<9,HAS_CONFLICTING_PII:1<<10,HAS_AUTOMATCHED_PII:1<<11}})();return e.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEventsProxyState",function(){return function(f,b,c,d){var e={exports:{}};e.exports;(function(){"use strict";var a=!1;e.exports={getShouldProxy:function(){return a},setShouldProxy:}})();return e.exports}(a,b,c,d)});f.ensureModuleRegistered("SignalsFBEvents.plugins.opttracking",function(){return function(a,b,c,d){var e={exports:{}};e.exports;(function(){"use strict";var b=f.getFbeventsModules("SignalsFBEventsEvents"),c=b.getCustomParameters,d=b.piiAutomatched,g=b.piiConflicting,h=b.piiInvalidated,i=f.getFbeventsModules("SignalsFBEventsOptTrackingOptions");b=f.getFbeventsModules("SignalsFBEventsPlugin");var j=f.getFbeventsModules("SignalsFBEventsProxyState"),k=f.getFbeventsModules("SignalsFBEventsUtils"),l=k.some,m=!1;function n(){try{Object.defineProperty({},"test",{})}catch(a){return!1}return!0}function o(){return!!(a.navigator&&a.navigator.sendBeacon)}function p(a,b){return a?b:0}var q=["_selenium","callSelenium","_Selenium_IDE_Recorder"],r=["__webdriver_evaluate","__selenium_evaluate","__webdriver_script_function","__webdriver_script_func","__webdriver_script_fn","__fxdriver_evaluate","__driver_unwrapped","__webdriver_unwrapped","__driver_evaluate","__selenium_unwrapped","__fxdriver_unwrapped"];function s(){if(u(q))return!0;var b=l(r,function(b){return a.document[b]?!0:!1});if(b)return!0;b=a.document;for(var c in b)if(c.match(/\$[a-z]dc_/)&&b[c].cache_)return!0;if(a.external&&a.external.toString&&a.external.toString().indexOf("Sequentum")>=0)return!0;if(b.documentElement&&b.documentElement.getAttribute){c=l(["selenium","webdriver","driver"],function(b){return a.document.documentElement.getAttribute(b)?!0:!1});if(c)return!0}return!1}function t(){if(u(["_phantom","__nightmare","callPhantom"]))return!0;return/HeadlessChrome/.test(a.navigator.userAgent)?!0:!1}function u(b){b=l(b,function(b){return a[b]?!0:!1});return b}function v(){var a=0,b=0,c=0;try{a=p(s(),i.IS_SELENIUM),b=p(t(),i.IS_HEADLESS)}catch(a){c=i.HAS_DETECTION_FAILED}return{hasDetectionFailed:c,isHeadless:b,isSelenium:a}}k=new b(function(a,b){if(m)return;var e={};h.listen();var k={};g.listen();var l={};d.listen();c.listen(function(c){var d=b.optIns,f=p(c!=null&&d.isOptedOut(c.id,"AutomaticSetup"),i.AUTO_CONFIG_OPT_OUT);d=p(c!=null&&d.isOptedIn(c.id,"AutomaticSetup"),i.AUTO_CONFIG);var g=p(a.disableConfigLoading!==!0,i.CONFIG_LOADING),h=p(n(),i.SUPPORTS_DEFINE_PROPERTY),m=p(o(),i.SUPPORTS_SEND_BEACON),q=p(c!=null&&k[c.id],i.HAS_CONFLICTING_PII),r=p(c!=null&&e[c.id],i.HAS_INVALIDATED_PII);c=p(c!=null&&l[c.id],i.HAS_AUTOMATCHED_PII);var s=p(j.getShouldProxy(),i.SHOULD_PROXY),t=v();f=f|d|g|h|m|r|s|t.isHeadless|t.isSelenium|t.hasDetectionFailed|q|c;return{o:f}});m=!0});k.OPTIONS=i;e.exports=k})();return e.exports}(a,b,c,d)});e.exports=f.getFbeventsModules("SignalsFBEvents.plugins.opttracking");f.registerPlugin&&f.registerPlugin("fbevents.plugins.opttracking",e.exports);f.ensureModuleRegistered("fbevents.plugins.opttracking",function(){return e.exports})})()})(window,document,location,history);
(function(a,b,c,d){var e={exports:{}};e.exports;(function(){var f=a.fbq;f.execStart=a.performance&&a.performance.now&&a.performance.now();if(!function(){var b=a.postMessage||;if(!f){b({action:"FB_LOG",logType:"Facebook Pixel Error",logMessage:"Pixel code is not installed correctly on this page"},"*");"error"in console&&console.error("Facebook Pixel Error: Pixel code is not installed correctly on this page");return!1}return!0}())return;var g=function(){return }();function i(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}else return Array.from(a)}f.__fbeventsModules||(f.__fbeventsModules={},f.__fbeventsResolvedModules={},f.getFbeventsModules=,f.fbIsModuleLoaded=,f.ensureModuleRegistered=);f.ensureModuleRegistered("SignalsFBEvents",function(){return function(a,b,c,d){var e={exports:{}};e.exports;(function(){"use strict";var j=Object.assign||,f=a.fbq;f.execStart=a.performance&&typeof a.performance.now==="function"?a.performance.now():null;var k=f.getFbeventsModules("SignalsFBEventsNetworkConfig"),l=f.getFbeventsModules("SignalsFBEventsQE"),m=f.getFbeventsModules("SignalsParamList"),n=f.getFbeventsModules("signalsFBEventsSendEvent"),o=f.getFbeventsModules("SignalsFBEventsUtils"),p=f.getFbeventsModules("SignalsFBEventsLogging"),q=f.getFbeventsModules("SignalsEventValidation"),r=f.getFbeventsModules("SignalsFBEventsFBQ"),s=f.getFbeventsModules("SignalsFBEventsJSLoader"),t=f.getFbeventsModules("SignalsFBEventsFireLock"),u=f.getFbeventsModules("SignalsFBEventsMobileAppBridge"),v=f.getFbeventsModules("signalsFBEventsInjectMethod"),w=f.getFbeventsModules("signalsFBEventsMakeSafe"),x=f.getFbeventsModules("signalsFBEventsResolveLegacyArguments"),y=f.getFbeventsModules("SignalsFBEventsPluginManager"),z=f.getFbeventsModules("signalsFBEventsCoercePixelID"),A=f.getFbeventsModules("SignalsFBEventsEvents"),B=f.getFbeventsModules("SignalsFBEventsTyped"),aa=B.coerce,ba=B.Typed,C=o.each;B=o.FBSet;var D=o.isEmptyObject,E=o.isPlainObject,F=o.isNumber,G=o.keys;o=A.execEnd;var H=A.fired,I=A.getCustomParameters,ca=A.iwlBootstrap,J=A.piiInvalidated,da=A.setIWLExtractors,K=A.validateCustomParameters,L=A.validateUrlParameters,ea=p.logError,M=p.logUserError,N=t.global,O=-1,fa="b68919aff001d8366249403a2544fba2d833084f1ad22839b6310aadacb6a138",ga=Array.prototype.slice,P=Object.prototype.hasOwnProperty,Q=c.href,R=!1,ha=!1,S=[],T={},ia;b.referrer;var U={PageView:new B(),PixelInitialized:new B()},V=new r(f,T),W=new y(V,N),ja=new B(["eid"]);function X(){try{var a=ga.call(arguments);if(N.isLocked()&&a[0]!=="consent"){f.queue.push(arguments);return}var b=x(a),c=[].concat(i(b.args)),d=b.isLegacySyntax,e=c.shift();switch(e){case"addPixelId":R=!0;Y.apply(this,c);break;case"init":ha=!0;Y.apply(this,c);break;case"set":la.apply(this,c);break;case"track":if(F(c[0])){pa.apply(this,c);break}if(d){Z.apply(this,c);break}oa.apply(this,c);break;case"trackCustom":Z.apply(this,c);break;case"send":qa.apply(this,c);break;case"on":var j=h(c),k=j[0],l=j.slice(1),m=A[k];m&&m.triggerWeakly(l);break;case"loadPlugin":W.loadPlugin(c[0]);break;case"dataProcessingOptions":switch(c.length){case 1:var n=g(c,1),o=n[0];V.pluginConfig.set(null,"dataProcessingOptions",{dataProcessingOptions:o,dataProcessingCountry:null,dataProcessingState:null});break;case 3:var p=g(c,3),q=p[0],r=p[1],s=p[2];V.pluginConfig.set(null,"dataProcessingOptions",{dataProcessingOptions:q,dataProcessingCountry:r,dataProcessingState:s});break;case 4:var t=g(c,3),u=t[0],v=t[1],w=t[2];V.pluginConfig.set(null,"dataProcessingOptions",{dataProcessingOptions:u,dataProcessingCountry:v,dataProcessingState:w});break}break;default:V.callMethod(arguments);break}}catch(a){ea(a)}}function la(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=[a].concat(c);switch(a){case"endpoint":var g=c[0];if(typeof g!=="string")throw new Error("endpoint value must be a string");k.ENDPOINT=g;break;case"cdn":var h=c[0];if(typeof h!=="string")throw new Error("cdn value must be a string");s.CONFIG.CDN_BASE_URL=h;break;case"releaseSegment":var i=c[0];if(typeof i!=="string"){M({invalidParamName:"new_release_segment",invalidParamValue:i,method:"set",params:e,type:"INVALID_FBQ_METHOD_PARAMETER"});break}f._releaseSegment=i;break;case"autoConfig":var j=c[0],m=c[1],n=j===!0||j==="true"?"optIn":"optOut";if(typeof m!=="string"){M({invalidParamName:"pixel_id",invalidParamValue:m,method:"set",params:e,type:"INVALID_FBQ_METHOD_PARAMETER"});break}V.callMethod([n,m,"AutomaticSetup"]);break;case"firstPartyCookies":var o=c[0],p=c[1],r=o===!0||o==="true"?"optIn":"optOut";typeof p==="string"?V.callMethod([r,p,"FirstPartyCookies"]):p===void 0?V.disableFirstPartyCookies=!0:M({invalidParamName:"pixel_id",invalidParamValue:p,method:"set",params:e,type:"INVALID_FBQ_METHOD_PARAMETER"});break;case"experiments":l.setExperiments.apply(l,c);break;case"mobileBridge":var t=c[0],v=c[1];if(typeof t!=="string"){M({invalidParamName:"pixel_id",invalidParamValue:t,method:"set",params:e,type:"INVALID_FBQ_METHOD_PARAMETER"});break}if(typeof v!=="string"){M({invalidParamName:"app_id",invalidParamValue:v,method:"set",params:e,type:"INVALID_FBQ_METHOD_PARAMETER"});break}u.registerBridge([t,v]);break;case"iwlExtractors":var w=c[0],x=c[1];da.triggerWeakly({extractors:x,pixelID:w});break;case"startIWLBootstrap":var y=c[0],z=c[1];ca.triggerWeakly({graphToken:y,pixelID:z});break;case"parallelfire":var A=c[0],B=c[1];V.pluginConfig.set(A,"parallelfire",{target:B});break;case"pcmInstagramTriggerAttribution":var C=c[0];V.pluginConfig.set(C,"pcmInstagramTriggerAttribution",{pcmInstagramTriggerAttributionURL:k.INSTAGRAM_TRIGGER_ATTRIBUTION});break;case"trackSingleOnly":var D=c[0],E=c[1],F=aa(D,ba["boolean"]()),G=aa(E,ba.fbid());if(G==null){M({invalidParamName:"pixel_id",invalidParamValue:E,method:"set",params:e,type:"INVALID_FBQ_METHOD_PARAMETER"});break}if(F==null){M({invalidParamName:"on_or_off",invalidParamValue:D,method:"set",params:e,type:"INVALID_FBQ_METHOD_PARAMETER"});break}var H=q.validateMetadata(a);H.error&&M(H.error);H.warnings&&H.warnings.forEach();P.call(T,G)?T[G].trackSingleOnly=F:M({metadataValue:a,pixelID:G,type:"SET_METADATA_ON_UNINITIALIZED_PIXEL_ID"});break;default:var I=V.pluginConfig.getWithGlobalFallback(null,"dataProcessingOptions"),J=I!=null&&I.dataProcessingOptions.includes("LDU"),K=c[0],L=c[1];if(typeof a!=="string")throw new Error("The metadata setting provided in the 'set' call is invalid.");if(typeof K!=="string"){if(J)break;M({invalidParamName:"value",invalidParamValue:K,method:"set",params:e,type:"INVALID_FBQ_METHOD_PARAMETER"});break}if(typeof L!=="string"){if(J)break;M({invalidParamName:"pixel_id",invalidParamValue:L,method:"set",params:e,type:"INVALID_FBQ_METHOD_PARAMETER"});break}na(a,K,L);break}}f._initHandlers=[];f._initsDone={};function Y(a,b,c){O=O===-1?Date.now():O;var d=z(a);if(d==null)return;var e=b==null||E(b);e||M({invalidParamName:"user_data",invalidParamValue:b,method:"init",params:[a,b],type:"INVALID_FBQ_METHOD_PARAMETER"});if(P.call(T,d)){b!=null&&D(T[d].userData)?(T[d].userData=e?b||{}:{},W.loadPlugin("identity")):M({pixelID:d,type:"DUPLICATE_PIXEL_ID"});return}a={agent:c?c.agent:null,eventCount:0,id:d,userData:e?b||{}:{},userDataFormFields:{}};S.push(a);T[d]=a;b!=null&&W.loadPlugin("identity");ma();V.loadConfig(d)}function ma(){for(var a=0;a<f._initHandlers.length;a++){var b=f._initHandlers[a];f._initsDone[a]||(f._initsDone[a]={});for(var c=0;c<S.length;c++){var d=S[c];f._initsDone[a][d.id]||(f._initsDone[a][d.id]=!0,b(d))}}}function oa(a,b,c){b=b||{},q.validateEventAndLog(a,b),a==="CustomEvent"&&typeof b.event==="string"&&(a=b.event),Z.call(this,a,b,c)}function Z(a,b,c){for(var d=0,e=S.length;d<e;d++){var f=S[d];if(!(a==="PageView"&&this.allowDuplicatePageViews)&&Object.prototype.hasOwnProperty.call(U,a)&&U[a].has(f.id))continue;if(f.trackSingleOnly)continue;sa({customData:b,eventData:c,eventName:a,pixel:f});Object.prototype.hasOwnProperty.call(U,a)&&U[a].add(f.id)}}function $(a){a=a.toLowerCase().trim();var b=a.endsWith("@icloud.com");a=a.endsWith("@privaterelay.appleid.com");if(b)return 2;if(a)return 1}function ra(a,b,c,d){var e=new m(f.piiTranslator);try{var g=a&&a.userData||{},h=a&&a.userDataFormFields||{},i={},k={},l=void 0;g.em!=null&&$(g.em)&&(l=$(g.em),l===1&&(i.em=fa));h.em!=null&&$(h.em)&&(l=$(h.em),l===1&&(k.em=fa));l!=null&&e.append("ped",l);e.append("ud",j({},g,i),!0);e.append("udff",j({},h,k),!0)}catch(b){J.trigger(a)}e.append("v",f.version);f._releaseSegment&&e.append("r",f._releaseSegment);e.append("a",a&&a.agent?a.agent:f.agent);a&&(e.append("ec",a.eventCount),a.eventCount++);l=I.trigger(a,b,c,d);C(l,function(a){return C(G(a),function(b){if(e.containsKey(b)){if(!ja.has(b))throw new Error("Custom parameter "+b+" has already been specified.")}else e.append(b,a[b])})});e.append("it",O);g=a&&a.codeless==="false";e.append("coo",g);i=V.pluginConfig.getWithGlobalFallback(a?a.id:null,"dataProcessingOptions");if(i!=null){h=i.dataProcessingCountry;k=i.dataProcessingOptions;b=i.dataProcessingState;e.append("dpo",k.join(","));e.append("dpoco",h);e.append("dpost",b)}return e}function sa(a){var d=a.customData,e=a.eventData,f=a.eventName;a=a.pixel;if(a!=null&&u.pixelHasActiveBridge(a)){u.sendEvent(a,f,d||{});return}var g=ra(a,f,d);if(e!=null){var h=e.eventID;e=e.event_id;h=h!=null?h:e;g.containsKey("eid")?g.replaceEntry("eid",h):g.append("eid",h)}d!=null&&K.trigger(a,d,f);e=c.href;h=b.referrer;var i={};e!=null&&(i.dl=e);h!=null&&(i.rl=h);D(i)||L.trigger(a,i,f);n({customData:d,customParams:g,eventName:f,id:a?a.id:null,piiTranslator:null,documentLink:i.dl?i.dl:"",referrerLink:i.rl?i.rl:""})}function ta(){while(f.queue.length&&!N.isLocked()){var a=f.queue.shift();X.apply(f,a)}}N.onUnlocked(function(){ta()});f.pixelId&&(R=!0,Y(f.pixelId));(R&&ha||a.fbq!==a._fbq)&&M({type:"CONFLICTING_VERSIONS"});S.length>1&&M({type:"MULTIPLE_PIXELS"});function ua(){if(f.disablePushState===!0)return;if(!d.pushState||!d.replaceState)return;var b=w();v(d,"pushState",b);v(d,"replaceState",b);a.addEventListener("popstate",b,!1)}function va(){"onpageshow"in a&&a.addEventListener("pageshow",)}H.listenOnce(function(){ua(),va()});function ya(a){a.instance=V,a.callMethod=X,a._initHandlers=[],a._initsDone={},a.send=qa,a.getEventCustomParameters=ra,a.addInitHandler=wa,a.getState=xa,a.init=Y,a.set=la,a.loadPlugin=function(a){return W.loadPlugin(a)},a.registerPlugin=function(a,b){W.registerPlugin(a,b)}}ya(a.fbq);ta();e.exports={doExport:ya};o.trigger()})();return e.exports}(a,b,c,d)});e.exports=f.getFbeventsModules("SignalsFBEvents");f.registerPlugin&&f.registerPlugin("fbevents",e.exports);f.ensureModuleRegistered("fbevents",)})()})(window,document,location,history);
fbq.registerPlugin("global_config", {__fbEventsPlugin: 1, plugin: function(fbq, instance, config) { fbq.loadPlugin("commonincludes");
fbq.loadPlugin("opttracking");
fbq.set("experiments", [{"allocation":0,"code":"u","name":"use_fbc_as_cache_key","passRate":0},{"allocation":0.5,"code":"p","name":"always_normalize_ph","passRate":0.5}]);
config.set(null, "batching", {"batchWaitTimeMs":501,"maxBatchSize":10});
config.set(null, "microdata", {"waitTimeMs":500});instance.configLoaded("global_config"); }});